<!DOCTYPE html>
<html>
<head>
  <title>nan_callbacks_12_inl.h</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/nan/nan_callbacks_12_inl.h";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>nan_callbacks_12_inl.h</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<hr>
<p>NAN - Native Abstractions for Node.js</p>
</div>
<div class="body">
<p>Copyright (c) 2016 NAN contributors</p>
<p>MIT License <a href="https://github.com/nodejs/nan/blob/master/LICENSE.md">https://github.com/nodejs/nan/blob/master/LICENSE.md</a></p>
<hr>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c">
#ifndef NAN_CALLBACKS_12_INL_H_
#define NAN_CALLBACKS_12_INL_H_

template&lt;typename T&gt;
class ReturnValue {
  v8::ReturnValue&lt;T&gt; value_;

 public:
  template &lt;class S&gt;
  explicit inline ReturnValue(const v8::ReturnValue&lt;S&gt; &amp;value) :
      value_(value) {}
  template &lt;class S&gt;
  explicit inline ReturnValue(const ReturnValue&lt;S&gt;&amp; that)
      : value_(that.value_) {
    TYPE_CHECK(T, S);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Handle setters</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> S&gt; <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> v8::Local&lt;S&gt; &amp;handle)</span> </span>{
    TYPE_CHECK(T, S);
    value_.Set(handle);
  }

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> S&gt; <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Global&lt;S&gt; &amp;handle)</span> </span>{
    TYPE_CHECK(T, S);
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(V8_MAJOR_VERSION) &amp;&amp; (V8_MAJOR_VERSION &gt; 4 ||                      \
  (V8_MAJOR_VERSION == 4 &amp;&amp; defined(V8_MINOR_VERSION) &amp;&amp;                       \
  (V8_MINOR_VERSION &gt; 5 || (V8_MINOR_VERSION == 5 &amp;&amp;                           \
  defined(V8_BUILD_NUMBER) &amp;&amp; V8_BUILD_NUMBER &gt;= 8))))</span>
    value_.Set(handle);
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
    value_.Set(*<span class="hljs-keyword">reinterpret_cast</span>&lt;<span class="hljs-keyword">const</span> v8::Persistent&lt;S&gt;*&gt;(&amp;handle));
    <span class="hljs-keyword">const_cast</span>&lt;Global&lt;S&gt; &amp;&gt;(handle).Reset();
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Fast primitive setters</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> value)</span> </span>{
    TYPE_CHECK(T, v8::Boolean);
    value_.Set(value);
  }

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">double</span> i)</span> </span>{
    TYPE_CHECK(T, v8::Number);
    value_.Set(i);
  }

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">int32_t</span> i)</span> </span>{
    TYPE_CHECK(T, v8::Integer);
    value_.Set(i);
  }

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> i)</span> </span>{
    TYPE_CHECK(T, v8::Integer);
    value_.Set(i);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Fast JS primitive setters</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetNull</span><span class="hljs-params">()</span> </span>{
    TYPE_CHECK(T, v8::Primitive);
    value_.SetNull();
  }

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetUndefined</span><span class="hljs-params">()</span> </span>{
    TYPE_CHECK(T, v8::Primitive);
    value_.SetUndefined();
  }

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetEmptyString</span><span class="hljs-params">()</span> </span>{
    TYPE_CHECK(T, v8::String);
    value_.SetEmptyString();
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>Convenience getter for isolate</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">inline</span> v8::<span class="hljs-function">Isolate *<span class="hljs-title">GetIsolate</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{
    <span class="hljs-keyword">return</span> value_.GetIsolate();
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Pointer setter: Uncompilable to prevent inadvertent misuse.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template&lt;typename S&gt;
  inline void Set(S *whatever) { TYPE_CHECK(S*, v8::Primitive); }
};

template&lt;typename T&gt;
class FunctionCallbackInfo {
  const v8::FunctionCallbackInfo&lt;T&gt; &amp;info_;
  const v8::Local&lt;v8::Value&gt; data_;

 public:
  explicit inline FunctionCallbackInfo(
      const v8::FunctionCallbackInfo&lt;T&gt; &amp;info
    , v8::Local&lt;v8::Value&gt; data) :
          info_(info)
        , data_(data) {}

  inline ReturnValue&lt;T&gt; GetReturnValue() const {
    return ReturnValue&lt;T&gt;(info_.GetReturnValue());
  }

  inline v8::Local&lt;v8::Function&gt; Callee() const { return info_.Callee(); }
  inline v8::Local&lt;v8::Value&gt; Data() const { return data_; }
  inline v8::Local&lt;v8::Object&gt; Holder() const { return info_.Holder(); }
  inline bool IsConstructCall() const { return info_.IsConstructCall(); }
  inline int Length() const { return info_.Length(); }
  inline v8::Local&lt;v8::Value&gt; operator[](int i) const { return info_[i]; }
  inline v8::Local&lt;v8::Object&gt; This() const { return info_.This(); }
  inline v8::Isolate *GetIsolate() const { return info_.GetIsolate(); }


 protected:
  static const int kHolderIndex = 0;
  static const int kIsolateIndex = 1;
  static const int kReturnValueDefaultValueIndex = 2;
  static const int kReturnValueIndex = 3;
  static const int kDataIndex = 4;
  static const int kCalleeIndex = 5;
  static const int kContextSaveIndex = 6;
  static const int kArgsLength = 7;

 private:
  NAN_DISALLOW_ASSIGN_COPY_MOVE(FunctionCallbackInfo)
};

template&lt;typename T&gt;
class PropertyCallbackInfo {
  const v8::PropertyCallbackInfo&lt;T&gt; &amp;info_;
  const v8::Local&lt;v8::Value&gt; data_;

 public:
  explicit inline PropertyCallbackInfo(
      const v8::PropertyCallbackInfo&lt;T&gt; &amp;info
    , const v8::Local&lt;v8::Value&gt; data) :
          info_(info)
        , data_(data) {}

  inline v8::Isolate* GetIsolate() const { return info_.GetIsolate(); }
  inline v8::Local&lt;v8::Value&gt; Data() const { return data_; }
  inline v8::Local&lt;v8::Object&gt; This() const { return info_.This(); }
  inline v8::Local&lt;v8::Object&gt; Holder() const { return info_.Holder(); }
  inline ReturnValue&lt;T&gt; GetReturnValue() const {
    return ReturnValue&lt;T&gt;(info_.GetReturnValue());
  }

 protected:
  static const int kHolderIndex = 0;
  static const int kIsolateIndex = 1;
  static const int kReturnValueDefaultValueIndex = 2;
  static const int kReturnValueIndex = 3;
  static const int kDataIndex = 4;
  static const int kThisIndex = 5;
  static const int kArgsLength = 6;

 private:
  NAN_DISALLOW_ASSIGN_COPY_MOVE(PropertyCallbackInfo)
};

namespace imp {
static
void FunctionCallbackWrapper(const v8::FunctionCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  FunctionCallback callback = reinterpret_cast&lt;FunctionCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kFunctionIndex).As&lt;v8::External&gt;()-&gt;Value()));
  FunctionCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  callback(cbinfo);
}

typedef void (*NativeFunction)(const v8::FunctionCallbackInfo&lt;v8::Value&gt; &amp;);

#if NODE_MODULE_VERSION &gt; NODE_0_12_MODULE_VERSION
static
void GetterCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  GetterCallback callback = reinterpret_cast&lt;GetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kGetterIndex).As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), cbinfo);
}

typedef void (*NativeGetter)
    (v8::Local&lt;v8::Name&gt;, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void SetterCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , v8::Local&lt;v8::Value&gt; value
  , const v8::PropertyCallbackInfo&lt;void&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;void&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  SetterCallback callback = reinterpret_cast&lt;SetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kSetterIndex).As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), value, cbinfo);
}

typedef void (*NativeSetter)(
    v8::Local&lt;v8::Name&gt;
  , v8::Local&lt;v8::Value&gt;
  , const v8::PropertyCallbackInfo&lt;void&gt; &amp;);
#else
static
void GetterCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  GetterCallback callback = reinterpret_cast&lt;GetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kGetterIndex).As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, cbinfo);
}

typedef void (*NativeGetter)
    (v8::Local&lt;v8::String&gt;, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void SetterCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , v8::Local&lt;v8::Value&gt; value
  , const v8::PropertyCallbackInfo&lt;void&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;void&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  SetterCallback callback = reinterpret_cast&lt;SetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kSetterIndex).As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, value, cbinfo);
}

typedef void (*NativeSetter)(
    v8::Local&lt;v8::String&gt;
  , v8::Local&lt;v8::Value&gt;
  , const v8::PropertyCallbackInfo&lt;void&gt; &amp;);
#endif

#if NODE_MODULE_VERSION &gt; NODE_0_12_MODULE_VERSION
static
void PropertyGetterCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyGetterCallback callback = reinterpret_cast&lt;PropertyGetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyGetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), cbinfo);
}

typedef void (*NativePropertyGetter)
    (v8::Local&lt;v8::Name&gt;, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void PropertySetterCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , v8::Local&lt;v8::Value&gt; value
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertySetterCallback callback = reinterpret_cast&lt;PropertySetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertySetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), value, cbinfo);
}

typedef void (*NativePropertySetter)(
    v8::Local&lt;v8::Name&gt;
  , v8::Local&lt;v8::Value&gt;
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void PropertyEnumeratorCallbackWrapper(
    const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Array&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyEnumeratorCallback callback =
      reinterpret_cast&lt;PropertyEnumeratorCallback&gt;(reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyEnumeratorIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(cbinfo);
}

typedef void (*NativePropertyEnumerator)
    (const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;);

static
void PropertyDeleterCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Boolean&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyDeleterCallback callback = reinterpret_cast&lt;PropertyDeleterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyDeleterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), cbinfo);
}

typedef void (NativePropertyDeleter)
    (v8::Local&lt;v8::Name&gt;, const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;);

static
void PropertyQueryCallbackWrapper(
    v8::Local&lt;v8::Name&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Integer&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyQueryCallback callback = reinterpret_cast&lt;PropertyQueryCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyQueryIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property.As&lt;v8::String&gt;(), cbinfo);
}

typedef void (*NativePropertyQuery)
    (v8::Local&lt;v8::Name&gt;, const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;);
#else
static
void PropertyGetterCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyGetterCallback callback = reinterpret_cast&lt;PropertyGetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyGetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, cbinfo);
}

typedef void (*NativePropertyGetter)
    (v8::Local&lt;v8::String&gt;, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void PropertySetterCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , v8::Local&lt;v8::Value&gt; value
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertySetterCallback callback = reinterpret_cast&lt;PropertySetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertySetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, value, cbinfo);
}

typedef void (*NativePropertySetter)(
    v8::Local&lt;v8::String&gt;
  , v8::Local&lt;v8::Value&gt;
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void PropertyEnumeratorCallbackWrapper(
    const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Array&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyEnumeratorCallback callback =
      reinterpret_cast&lt;PropertyEnumeratorCallback&gt;(reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyEnumeratorIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(cbinfo);
}

typedef void (*NativePropertyEnumerator)
    (const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;);

static
void PropertyDeleterCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Boolean&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyDeleterCallback callback = reinterpret_cast&lt;PropertyDeleterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyDeleterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, cbinfo);
}

typedef void (NativePropertyDeleter)
    (v8::Local&lt;v8::String&gt;, const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;);

static
void PropertyQueryCallbackWrapper(
    v8::Local&lt;v8::String&gt; property
  , const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Integer&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  PropertyQueryCallback callback = reinterpret_cast&lt;PropertyQueryCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kPropertyQueryIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(property, cbinfo);
}

typedef void (*NativePropertyQuery)
    (v8::Local&lt;v8::String&gt;, const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;);
#endif

static
void IndexGetterCallbackWrapper(
    uint32_t index, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  IndexGetterCallback callback = reinterpret_cast&lt;IndexGetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kIndexPropertyGetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(index, cbinfo);
}

typedef void (*NativeIndexGetter)
    (uint32_t, const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void IndexSetterCallbackWrapper(
    uint32_t index
  , v8::Local&lt;v8::Value&gt; value
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Value&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  IndexSetterCallback callback = reinterpret_cast&lt;IndexSetterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kIndexPropertySetterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(index, value, cbinfo);
}

typedef void (*NativeIndexSetter)(
    uint32_t
  , v8::Local&lt;v8::Value&gt;
  , const v8::PropertyCallbackInfo&lt;v8::Value&gt; &amp;);

static
void IndexEnumeratorCallbackWrapper(
    const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Array&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  IndexEnumeratorCallback callback = reinterpret_cast&lt;IndexEnumeratorCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(
              kIndexPropertyEnumeratorIndex).As&lt;v8::External&gt;()-&gt;Value()));
  callback(cbinfo);
}

typedef void (*NativeIndexEnumerator)
    (const v8::PropertyCallbackInfo&lt;v8::Array&gt; &amp;);

static
void IndexDeleterCallbackWrapper(
    uint32_t index, const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Boolean&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  IndexDeleterCallback callback = reinterpret_cast&lt;IndexDeleterCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kIndexPropertyDeleterIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(index, cbinfo);
}

typedef void (*NativeIndexDeleter)
    (uint32_t, const v8::PropertyCallbackInfo&lt;v8::Boolean&gt; &amp;);

static
void IndexQueryCallbackWrapper(
    uint32_t index, const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;info) {
  v8::Local&lt;v8::Object&gt; obj = info.Data().As&lt;v8::Object&gt;();
  PropertyCallbackInfo&lt;v8::Integer&gt;
      cbinfo(info, obj-&gt;GetInternalField(kDataIndex));
  IndexQueryCallback callback = reinterpret_cast&lt;IndexQueryCallback&gt;(
      reinterpret_cast&lt;intptr_t&gt;(
          obj-&gt;GetInternalField(kIndexPropertyQueryIndex)
              .As&lt;v8::External&gt;()-&gt;Value()));
  callback(index, cbinfo);
}

typedef void (*NativeIndexQuery)
    (uint32_t, const v8::PropertyCallbackInfo&lt;v8::Integer&gt; &amp;);
}  // end of namespace imp

#endif  // NAN_CALLBACKS_12_INL_H_

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
