<!DOCTYPE html>
<html>
<head>
  <title>application.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "node_modules/express/lib/application.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>application.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>!
express
Copyright(c) 2009-2013 TJ Holowaychuk
Copyright(c) 2013 Roman Shtylman
Copyright(c) 2014-2015 Douglas Christopher Wilson
MIT Licensed</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">
'use strict'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Module dependencies.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> finalhandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'finalhandler'</span>);
<span class="hljs-keyword">var</span> Router = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./router'</span>);
<span class="hljs-keyword">var</span> methods = <span class="hljs-built_in">require</span>(<span class="hljs-string">'methods'</span>);
<span class="hljs-keyword">var</span> middleware = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./middleware/init'</span>);
<span class="hljs-keyword">var</span> query = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./middleware/query'</span>);
<span class="hljs-keyword">var</span> debug = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>)(<span class="hljs-string">'express:application'</span>);
<span class="hljs-keyword">var</span> View = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./view'</span>);
<span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> compileETag = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./utils'</span>).compileETag;
<span class="hljs-keyword">var</span> compileQueryParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./utils'</span>).compileQueryParser;
<span class="hljs-keyword">var</span> compileTrust = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./utils'</span>).compileTrust;
<span class="hljs-keyword">var</span> deprecate = <span class="hljs-built_in">require</span>(<span class="hljs-string">'depd'</span>)(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> flatten = <span class="hljs-built_in">require</span>(<span class="hljs-string">'array-flatten'</span>);
<span class="hljs-keyword">var</span> merge = <span class="hljs-built_in">require</span>(<span class="hljs-string">'utils-merge'</span>);
<span class="hljs-keyword">var</span> resolve = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>).resolve;
<span class="hljs-keyword">var</span> slice = <span class="hljs-built_in">Array</span>.prototype.slice;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Application prototype.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> app = exports = <span class="hljs-built_in">module</span>.exports = {};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Variable for trust proxy inheritance back-compat</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> trustProxyDefaultSymbol = <span class="hljs-string">'@@symbol:trust_proxy_default'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize the server.</p>
</div>
<div class="body">
<ul>
<li>setup default configuration
<ul>
<li>setup default middleware</li>
<li>setup route reflection methods</li>
</ul>
</li>
</ul>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.init = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.cache = {};
  <span class="hljs-keyword">this</span>.engines = {};
  <span class="hljs-keyword">this</span>.settings = {};

  <span class="hljs-keyword">this</span>.defaultConfiguration();
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize application configuration.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.defaultConfiguration = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultConfiguration</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> env = process.env.NODE_ENV || <span class="hljs-string">'development'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>default settings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.enable(<span class="hljs-string">'x-powered-by'</span>);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'etag'</span>, <span class="hljs-string">'weak'</span>);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'env'</span>, env);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'query parser'</span>, <span class="hljs-string">'extended'</span>);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'subdomain offset'</span>, <span class="hljs-number">2</span>);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'trust proxy'</span>, <span class="hljs-literal">false</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>trust proxy inherit back-compat</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>.settings, trustProxyDefaultSymbol, {
    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-literal">true</span>
  });

  debug(<span class="hljs-string">'booting in %s mode'</span>, env);

  <span class="hljs-keyword">this</span>.on(<span class="hljs-string">'mount'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onmount</span>(<span class="hljs-params">parent</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>inherit trust proxy</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.settings[trustProxyDefaultSymbol] === <span class="hljs-literal">true</span>
      &amp;&amp; <span class="hljs-keyword">typeof</span> parent.settings[<span class="hljs-string">'trust proxy fn'</span>] === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.settings[<span class="hljs-string">'trust proxy'</span>];
      <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.settings[<span class="hljs-string">'trust proxy fn'</span>];
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>inherit protos</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">this</span>.request.__proto__ = parent.request;
    <span class="hljs-keyword">this</span>.response.__proto__ = parent.response;
    <span class="hljs-keyword">this</span>.engines.__proto__ = parent.engines;
    <span class="hljs-keyword">this</span>.settings.__proto__ = parent.settings;
  });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>setup locals</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.locals = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>top-most app is mounted at /</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.mountpath = <span class="hljs-string">'/'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>default locals</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.locals.settings = <span class="hljs-keyword">this</span>.settings;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>default configuration</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'view'</span>, View);
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'views'</span>, resolve(<span class="hljs-string">'views'</span>));
  <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'jsonp callback name'</span>, <span class="hljs-string">'callback'</span>);

  <span class="hljs-keyword">if</span> (env === <span class="hljs-string">'production'</span>) {
    <span class="hljs-keyword">this</span>.enable(<span class="hljs-string">'view cache'</span>);
  }

  <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>, <span class="hljs-string">'router'</span>, {
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'\'app.router\' is deprecated!\nPlease see the 3.x to 4.x migration guide for details on how to update your app.'</span>);
    }
  });
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>lazily adds the base router if it has not yet been added.</p>
</div>
<div class="body">
<p>We cannot add the base router in the defaultConfiguration because
it reads app settings which might be set after that has run.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">app.lazyrouter = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lazyrouter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._router) {
    <span class="hljs-keyword">this</span>._router = <span class="hljs-keyword">new</span> Router({
      <span class="hljs-attr">caseSensitive</span>: <span class="hljs-keyword">this</span>.enabled(<span class="hljs-string">'case sensitive routing'</span>),
      <span class="hljs-attr">strict</span>: <span class="hljs-keyword">this</span>.enabled(<span class="hljs-string">'strict routing'</span>)
    });

    <span class="hljs-keyword">this</span>._router.use(query(<span class="hljs-keyword">this</span>.get(<span class="hljs-string">'query parser fn'</span>)));
    <span class="hljs-keyword">this</span>._router.use(middleware.init(<span class="hljs-keyword">this</span>));
  }
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>Dispatch a req, res pair into the application. Starts pipeline processing.</p>
</div>
<div class="body">
<p>If no callback is provided, then default error handlers will respond
in the event of an error bubbling through the stack.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.handle = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">req, res, callback</span>) </span>{
  <span class="hljs-keyword">var</span> router = <span class="hljs-keyword">this</span>._router;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>final handler</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> done = callback || finalhandler(req, res, {
    <span class="hljs-attr">env</span>: <span class="hljs-keyword">this</span>.get(<span class="hljs-string">'env'</span>),
    <span class="hljs-attr">onerror</span>: logerror.bind(<span class="hljs-keyword">this</span>)
  });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>no routes</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (!router) {
    debug(<span class="hljs-string">'no routes defined on app'</span>);
    done();
    <span class="hljs-keyword">return</span>;
  }

  router.handle(req, res, done);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<div class="dox">
<div class="summary">
<p>Proxy <code>Router#use()</code> to add middleware to the app router.
See Router#use() documentation for details.</p>
</div>
<div class="body">
<p>If the <em>fn</em> parameter is an express app, then it will be
mounted at the <em>route</em> specified.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.use = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">use</span>(<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-keyword">var</span> offset = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">var</span> path = <span class="hljs-string">'/'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>default path to '/'
disambiguate app.use([fn])</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fn !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> arg = fn;

    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">Array</span>.isArray(arg) &amp;&amp; arg.length !== <span class="hljs-number">0</span>) {
      arg = arg[<span class="hljs-number">0</span>];
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>first arg is the path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> arg !== <span class="hljs-string">'function'</span>) {
      offset = <span class="hljs-number">1</span>;
      path = fn;
    }
  }

  <span class="hljs-keyword">var</span> fns = flatten(slice.call(<span class="hljs-built_in">arguments</span>, offset));

  <span class="hljs-keyword">if</span> (fns.length === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'app.use() requires middleware functions'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>setup router</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.lazyrouter();
  <span class="hljs-keyword">var</span> router = <span class="hljs-keyword">this</span>._router;

  fns.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fn</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>non-express app</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (!fn || !fn.handle || !fn.set) {
      <span class="hljs-keyword">return</span> router.use(path, fn);
    }

    debug(<span class="hljs-string">'.use app under %s'</span>, path);
    fn.mountpath = path;
    fn.parent = <span class="hljs-keyword">this</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>restore .app property on req and res</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    router.use(path, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mounted_app</span>(<span class="hljs-params">req, res, next</span>) </span>{
      <span class="hljs-keyword">var</span> orig = req.app;
      fn.handle(req, res, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
        req.__proto__ = orig.request;
        res.__proto__ = orig.response;
        next(err);
      });
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>mounted an app</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    fn.emit(<span class="hljs-string">'mount'</span>, <span class="hljs-keyword">this</span>);
  }, <span class="hljs-keyword">this</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<div class="dox">
<div class="summary">
<p>Proxy to the app <code>Router#route()</code>
Returns a new <code>Route</code> instance for the <em>path</em>.</p>
</div>
<div class="body">
<p>Routes are isolated middleware stacks for specific paths.
See the Route api docs for details.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.route = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">route</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">this</span>.lazyrouter();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._router.route(path);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<div class="dox">
<div class="summary">
<p>Register the given template engine callback <code>fn</code>
as <code>ext</code>.</p>
</div>
<div class="body">
<p>By default will <code>require()</code> the engine based on the
file extension. For example if you try to render
a &quot;foo.jade&quot; file Express will invoke the following internally:</p>
<pre><code>app.engine('jade', require('jade').__express);
</code></pre>
<p>For engines that do not provide <code>.__express</code> out of the box,
or if you wish to &quot;map&quot; a different extension to the template engine
you may use this method. For example mapping the EJS template engine to
&quot;.html&quot; files:</p>
<pre><code>app.engine('html', require('ejs').renderFile);
</code></pre>
<p>In this case EJS provides a <code>.renderFile()</code> method with
the same signature that Express expects: <code>(path, options, callback)</code>,
though note that it aliases this method as <code>ejs.__express</code> internally
so if you're using &quot;.ejs&quot; extensions you dont need to do anything.</p>
<p>Some template engines do not follow this convention, the
<a href="https://github.com/tj/consolidate.js">Consolidate.js</a>
library was created to map all of node's popular template
engines to follow this convention, thus allowing them to
work seamlessly within Express.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">ext</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">fn</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">app</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.engine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">engine</span>(<span class="hljs-params">ext, fn</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fn !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'callback function required'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>get file extension</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> extension = ext[<span class="hljs-number">0</span>] !== <span class="hljs-string">'.'</span>
    ? <span class="hljs-string">'.'</span> + ext
    : ext;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>store engine</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.engines[extension] = fn;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<div class="dox">
<div class="summary">
<p>Proxy to <code>Router#param()</code> with one added api feature. The <em>name</em> parameter
can be an array of names.</p>
</div>
<div class="body">
<p>See the Router#param() docs for more details.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">fn</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">app</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.param = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">param</span>(<span class="hljs-params">name, fn</span>) </span>{
  <span class="hljs-keyword">this</span>.lazyrouter();

  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(name)) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; name.length; i++) {
      <span class="hljs-keyword">this</span>.param(name[i], fn);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  <span class="hljs-keyword">this</span>._router.param(name, fn);

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<div class="dox">
<div class="summary">
<p>Assign <code>setting</code> to <code>val</code>, or return <code>setting</code>'s value.</p>
</div>
<div class="body">
<p>app.set('foo', 'bar');
app.get('foo');
// =&gt; &quot;bar&quot;</p>
<p>Mounted servers inherit their parent server's settings.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">setting</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[val]</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Server</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.set = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params">setting, val</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>app.get(setting)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings[setting];
  }

  debug(<span class="hljs-string">'set "%s" to %o'</span>, setting, val);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>set value</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.settings[setting] = val;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>trigger matched settings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">switch</span> (setting) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'etag'</span>:
      <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'etag fn'</span>, compileETag(val));
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'query parser'</span>:
      <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'query parser fn'</span>, compileQueryParser(val));
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'trust proxy'</span>:
      <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'trust proxy fn'</span>, compileTrust(val));

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>trust proxy inherit back-compat</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>.settings, trustProxyDefaultSymbol, {
        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">value</span>: <span class="hljs-literal">false</span>
      });

      <span class="hljs-keyword">break</span>;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the app's absolute pathname
based on the parent(s) that have
mounted it.</p>
</div>
<div class="body">
<p>For example if the application was
mounted as &quot;/admin&quot;, which itself
was mounted as &quot;/blog&quot; then the
return value would be &quot;/blog/admin&quot;.</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">String</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.path = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">path</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parent
    ? <span class="hljs-keyword">this</span>.parent.path() + <span class="hljs-keyword">this</span>.mountpath
    : <span class="hljs-string">''</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<div class="dox">
<div class="summary">
<p>Check if <code>setting</code> is enabled (truthy).</p>
</div>
<div class="body">
<p>app.enabled('foo')
// =&gt; false</p>
<p>app.enable('foo')
app.enabled('foo')
// =&gt; true</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">setting</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Boolean</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.enabled = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">enabled</span>(<span class="hljs-params">setting</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Boolean</span>(<span class="hljs-keyword">this</span>.set(setting));
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<div class="dox">
<div class="summary">
<p>Check if <code>setting</code> is disabled.</p>
</div>
<div class="body">
<p>app.disabled('foo')
// =&gt; true</p>
<p>app.enable('foo')
app.disabled('foo')
// =&gt; false</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">setting</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Boolean</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.disabled = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disabled</span>(<span class="hljs-params">setting</span>) </span>{
  <span class="hljs-keyword">return</span> !<span class="hljs-keyword">this</span>.set(setting);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<div class="dox">
<div class="summary">
<p>Enable <code>setting</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">setting</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">app</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.enable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">enable</span>(<span class="hljs-params">setting</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.set(setting, <span class="hljs-literal">true</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<div class="dox">
<div class="summary">
<p>Disable <code>setting</code>.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">setting</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">app</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.disable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disable</span>(<span class="hljs-params">setting</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.set(setting, <span class="hljs-literal">false</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<div class="dox">
<div class="summary">
<p>Delegate <code>.VERB(...)</code> calls to <code>router.VERB(...)</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
methods.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method</span>)</span>{
  app[method] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path</span>)</span>{
    <span class="hljs-keyword">if</span> (method === <span class="hljs-string">'get'</span> &amp;&amp; <span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>app.get(setting)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.set(path);
    }

    <span class="hljs-keyword">this</span>.lazyrouter();

    <span class="hljs-keyword">var</span> route = <span class="hljs-keyword">this</span>._router.route(path);
    route[method].apply(route, slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  };
});

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<div class="dox">
<div class="summary">
<p>Special-cased &quot;all&quot; method, applying the given route <code>path</code>,
middleware, and callback to <em>every</em> HTTP method.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">path</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">...</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">app</span>
<span>for chaining
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.all = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">all</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">this</span>.lazyrouter();

  <span class="hljs-keyword">var</span> route = <span class="hljs-keyword">this</span>._router.route(path);
  <span class="hljs-keyword">var</span> args = slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; methods.length; i++) {
    route[methods[i]].apply(route, args);
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>del -&gt; delete alias</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.del = deprecate.function(app.delete, <span class="hljs-string">'app.del: Use app.delete instead'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<div class="dox">
<div class="summary">
<p>Render the given view <code>name</code> name with <code>options</code>
and a callback accepting an error and the
rendered template string.</p>
</div>
<div class="body">
<p>Example:</p>
<p>app.render('email', { name: 'Tobi' }, function(err, html){
// ...
})</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
<span class="dox_type">Function</span>
<span>or fn
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.render = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params">name, options, callback</span>) </span>{
  <span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">this</span>.cache;
  <span class="hljs-keyword">var</span> done = callback;
  <span class="hljs-keyword">var</span> engines = <span class="hljs-keyword">this</span>.engines;
  <span class="hljs-keyword">var</span> opts = options;
  <span class="hljs-keyword">var</span> renderOptions = {};
  <span class="hljs-keyword">var</span> view;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>support callback function as second arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">'function'</span>) {
    done = options;
    opts = {};
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>merge app.locals</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  merge(renderOptions, <span class="hljs-keyword">this</span>.locals);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>merge options._locals</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (opts._locals) {
    merge(renderOptions, opts._locals);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>merge options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  merge(renderOptions, opts);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>set .cache unless explicitly provided</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (renderOptions.cache == <span class="hljs-literal">null</span>) {
    renderOptions.cache = <span class="hljs-keyword">this</span>.enabled(<span class="hljs-string">'view cache'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>primed cache</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (renderOptions.cache) {
    view = cache[name];
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>view</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (!view) {
    <span class="hljs-keyword">var</span> View = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">'view'</span>);

    view = <span class="hljs-keyword">new</span> View(name, {
      <span class="hljs-attr">defaultEngine</span>: <span class="hljs-keyword">this</span>.get(<span class="hljs-string">'view engine'</span>),
      <span class="hljs-attr">root</span>: <span class="hljs-keyword">this</span>.get(<span class="hljs-string">'views'</span>),
      <span class="hljs-attr">engines</span>: engines
    });

    <span class="hljs-keyword">if</span> (!view.path) {
      <span class="hljs-keyword">var</span> dirs = <span class="hljs-built_in">Array</span>.isArray(view.root) &amp;&amp; view.root.length &gt; <span class="hljs-number">1</span>
        ? <span class="hljs-string">'directories "'</span> + view.root.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>).join(<span class="hljs-string">'", "'</span>) + <span class="hljs-string">'" or "'</span> + view.root[view.root.length - <span class="hljs-number">1</span>] + <span class="hljs-string">'"'</span>
        : <span class="hljs-string">'directory "'</span> + view.root + <span class="hljs-string">'"'</span>
      <span class="hljs-keyword">var</span> err = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Failed to lookup view "'</span> + name + <span class="hljs-string">'" in views '</span> + dirs);
      err.view = view;
      <span class="hljs-keyword">return</span> done(err);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>prime the cache</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (renderOptions.cache) {
      cache[name] = view;
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>render</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  tryRender(view, renderOptions, done);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<div class="dox">
<div class="summary">
<p>Listen for connections.</p>
</div>
<div class="body">
<p>A node <code>http.Server</code> is returned, with this
application (which is a <code>Function</code>) as its
callback. If you wish to create both an HTTP
and HTTPS server you may do so with the &quot;http&quot;
and &quot;https&quot; modules as shown here:</p>
<p>var http = require('http')
, https = require('https')
, express = require('express')
, app = express();</p>
<p>http.createServer(app).listen(80);
https.createServer({ ... }, app).listen(443);</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">http.Server</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
app.listen = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listen</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> server = http.createServer(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">return</span> server.listen.apply(server, <span class="hljs-built_in">arguments</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<div class="dox">
<div class="summary">
<p>Log error using console.error.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">err</span>
<span class="dox_type">Error</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">logerror</span>(<span class="hljs-params">err</span>) </span>{
  <span class="hljs-comment">/* istanbul ignore next */</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.get(<span class="hljs-string">'env'</span>) !== <span class="hljs-string">'test'</span>) <span class="hljs-built_in">console</span>.error(err.stack || err.toString());
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<div class="dox">
<div class="summary">
<p>Try rendering a view.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tryRender</span>(<span class="hljs-params">view, options, callback</span>) </span>{
  <span class="hljs-keyword">try</span> {
    view.render(options, callback);
  } <span class="hljs-keyword">catch</span> (err) {
    callback(err);
  }
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
