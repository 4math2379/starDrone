<!DOCTYPE html>
<html>
<head>
  <title>dbcs-data.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "node_modules/iconv-lite/encodings/dbcs-data.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>dbcs-data.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">"use strict"</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Description of supported double byte encodings and aliases.
Tables are not require()-d until they are needed to speed up library load.
require()-s are direct to support Browserify.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-built_in">module</span>.exports = {
    
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>== Japanese/ShiftJIS ====================================================
All japanese encodings are based on JIS X set of standards:
JIS X 0201 - Single-byte encoding of ASCII + ¥ + Kana chars at 0xA1-0xDF.
JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes.
Has several variations in 1978, 1983, 1990 and 1997.
JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.
JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.
2 planes, first is superset of 0208, second - revised 0212.
Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Byte encodings are:</p>
<ul>
<li>Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte
encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.
Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.</li>
<li>EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.
0x00-0x7F       - lower part of 0201
0x8E, 0xA1-0xDF - upper part of 0201
(0xA1-0xFE)x2   - 0208 plane (94x94).
0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).</li>
<li>JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.
Used as-is in ISO2022 family.</li>
<li>ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII,
0201-1976 Roman, 0208-1978, 0208-1983.</li>
<li>ISO2022-JP-1: Adds esc seq for 0212-1990.</li>
<li>ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.</li>
<li>ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.</li>
<li>ISO2022-JP-2004: Adds 0213-2004 Plane 1.</li>
</ul>
<p>After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.</p>
<p>Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-string">'shiftjis'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/shiftjis.json'</span>) },
        <span class="hljs-attr">encodeAdd</span>: {<span class="hljs-string">'\u00a5'</span>: <span class="hljs-number">0x5C</span>, <span class="hljs-string">'\u203E'</span>: <span class="hljs-number">0x7E</span>},
        <span class="hljs-attr">encodeSkipVals</span>: [{<span class="hljs-attr">from</span>: <span class="hljs-number">0xED40</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">0xF940</span>}],
    },
    <span class="hljs-string">'csshiftjis'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'mskanji'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'sjis'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'windows31j'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'ms31j'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'xsjis'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'windows932'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'ms932'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'932'</span>: <span class="hljs-string">'shiftjis'</span>,
    <span class="hljs-string">'cp932'</span>: <span class="hljs-string">'shiftjis'</span>,

    <span class="hljs-string">'eucjp'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/eucjp.json'</span>) },
        <span class="hljs-attr">encodeAdd</span>: {<span class="hljs-string">'\u00a5'</span>: <span class="hljs-number">0x5C</span>, <span class="hljs-string">'\u203E'</span>: <span class="hljs-number">0x7E</span>},
    },

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>TODO: KDDI extension to Shift_JIS
TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.
TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>== Chinese/GBK ==========================================================
http://en.wikipedia.org/wiki/GBK
We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Oldest GB2312 (1981, ~7600 chars) is a subset of CP936</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'gb2312'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'gb231280'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'gb23121980'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'csgb2312'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'csiso58gb231280'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'euccn'</span>: <span class="hljs-string">'cp936'</span>,

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Microsoft's CP936 is a subset and approximation of GBK.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'windows936'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'ms936'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'936'</span>: <span class="hljs-string">'cp936'</span>,
    <span class="hljs-string">'cp936'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp936.json'</span>) },
    },

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'gbk'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp936.json'</span>).concat(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/gbk-added.json'</span>)) },
    },
    <span class="hljs-string">'xgbk'</span>: <span class="hljs-string">'gbk'</span>,
    <span class="hljs-string">'isoir58'</span>: <span class="hljs-string">'gbk'</span>,

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>GB18030 is an algorithmic extension of GBK.
Main source: https://www.w3.org/TR/encoding/#gbk-encoder
http://icu-project.org/docs/papers/gb18030.html
http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml
http://www.khngai.com/chinese/charmap/tblgbk.php?page=0</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'gb18030'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp936.json'</span>).concat(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/gbk-added.json'</span>)) },
        <span class="hljs-attr">gb18030</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/gb18030-ranges.json'</span>) },
        <span class="hljs-attr">encodeSkipVals</span>: [<span class="hljs-number">0x80</span>],
        <span class="hljs-attr">encodeAdd</span>: {<span class="hljs-string">'€'</span>: <span class="hljs-number">0xA2E3</span>},
    },

    <span class="hljs-string">'chinese'</span>: <span class="hljs-string">'gb18030'</span>,


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>== Korean ===============================================================
EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'windows949'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'ms949'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'949'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'cp949'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp949.json'</span>) },
    },

    <span class="hljs-string">'cseuckr'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'csksc56011987'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'euckr'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'isoir149'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'korean'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'ksc56011987'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'ksc56011989'</span>: <span class="hljs-string">'cp949'</span>,
    <span class="hljs-string">'ksc5601'</span>: <span class="hljs-string">'cp949'</span>,


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>== Big5/Taiwan/Hong Kong ================================================
There are lots of tables for Big5 and cp950. Please see the following links for history:
http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html
Variations, in roughly number of defined chars:</p>
<ul>
<li>Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT</li>
<li>Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/</li>
<li>Big5-2003 (Taiwan standard) almost superset of cp950.</li>
<li>Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.</li>
<li>Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard.
many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.
Plus, it has 4 combining sequences.
Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299
because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.
Implementations are not consistent within browsers; sometimes labeled as just big5.
MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.
Great discussion &amp; recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31
In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.
Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt
http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt</li>
</ul>
<p>Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder
Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-string">'windows950'</span>: <span class="hljs-string">'cp950'</span>,
    <span class="hljs-string">'ms950'</span>: <span class="hljs-string">'cp950'</span>,
    <span class="hljs-string">'950'</span>: <span class="hljs-string">'cp950'</span>,
    <span class="hljs-string">'cp950'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp950.json'</span>) },
    },

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-string">'big5'</span>: <span class="hljs-string">'big5hkscs'</span>,
    <span class="hljs-string">'big5hkscs'</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'_dbcs'</span>,
        <span class="hljs-attr">table</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/cp950.json'</span>).concat(<span class="hljs-built_in">require</span>(<span class="hljs-string">'./tables/big5-added.json'</span>)) },
        <span class="hljs-attr">encodeSkipVals</span>: [<span class="hljs-number">0xa2cc</span>],
    },

    <span class="hljs-string">'cnbig5'</span>: <span class="hljs-string">'big5hkscs'</span>,
    <span class="hljs-string">'csbig5'</span>: <span class="hljs-string">'big5hkscs'</span>,
    <span class="hljs-string">'xxbig5'</span>: <span class="hljs-string">'big5hkscs'</span>,
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
