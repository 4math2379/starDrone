<!DOCTYPE html>
<html>
<head>
  <title>pack-no-proprietary.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/tar/test/pack-no-proprietary.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>pack-no-proprietary.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<p>This is exactly like test/pack.js, except that it's excluding
any proprietary headers.</p>
<p>This loses some information about the filesystem, but creates
tarballs that are supported by more versions of tar, especially
old non-spec-compliant copies of gnutar.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>the symlink file is excluded from git, because it makes
windows freak the hell out.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>)
  , path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>)
  , symlink = path.resolve(__dirname, <span class="hljs-string">"fixtures/symlink"</span>)
<span class="hljs-keyword">try</span> { fs.unlinkSync(symlink) } <span class="hljs-keyword">catch</span> (e) {}
fs.symlinkSync(<span class="hljs-string">"./hardlink-1"</span>, symlink)
process.on(<span class="hljs-string">"exit"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  fs.unlinkSync(symlink)
})

<span class="hljs-keyword">var</span> tap = <span class="hljs-built_in">require</span>(<span class="hljs-string">"tap"</span>)
  , tar = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../tar.js"</span>)
  , pkg = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../package.json"</span>)
  , Pack = tar.Pack
  , fstream = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fstream"</span>)
  , Reader = fstream.Reader
  , Writer = fstream.Writer
  , input = path.resolve(__dirname, <span class="hljs-string">"fixtures/"</span>)
  , target = path.resolve(__dirname, <span class="hljs-string">"tmp/pack.tar"</span>)
  , uid = process.getuid ? process.getuid() : <span class="hljs-number">0</span>
  , gid = process.getgid ? process.getgid() : <span class="hljs-number">0</span>

  , entries =

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>the global header and root fixtures/ dir are going to get
a different date each time, so omit that bit.
Also, dev/ino values differ across machines, so that's not
included.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    [ [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'extendedHeader'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'PaxHeader/fixtures/200cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'x'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">200</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/a.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">257</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/b.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">512</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/c.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">513</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/cc.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">513</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/dir/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">488</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/dir/sub/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">488</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/foo.js'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/hardlink-1'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/hardlink-2'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'1'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">'fixtures/hardlink-1'</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/omega.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/packtest/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/packtest/omega.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/packtest/star.4.html'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">54081</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'extendedHeader'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'PaxHeader/fixtures/packtest/Ω.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'x'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/packtest/Ω.txt'</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">2</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/packtest/Ω.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/t/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/t/h/'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">493</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'5'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/t/h/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">100</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/symlink'</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'2'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">'hardlink-1'</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]

    , [ <span class="hljs-string">'extendedHeader'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'PaxHeader/fixtures/Ω.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'x'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">"fixtures/Ω.txt"</span>
      , <span class="hljs-attr">uid</span>: uid
      , <span class="hljs-attr">gid</span>: gid
      , <span class="hljs-attr">size</span>: <span class="hljs-number">2</span> } ]

    , [ <span class="hljs-string">'entry'</span>,
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'fixtures/Ω.txt'</span>,
        <span class="hljs-attr">mode</span>: <span class="hljs-number">420</span>,
        <span class="hljs-attr">uid</span>: uid,
        <span class="hljs-attr">gid</span>: gid,
        <span class="hljs-attr">size</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">linkpath</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">ustar</span>: <span class="hljs-string">'ustar\u0000'</span>,
        <span class="hljs-attr">ustarver</span>: <span class="hljs-string">'00'</span>,
        <span class="hljs-attr">uname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gname</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">devmaj</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">devmin</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">''</span> } ]
    ]


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>first, make sure that the hardlinks are actually hardlinks, or this
won't work.  Git has a way of replacing them with a copy.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> hard1 = path.resolve(__dirname, <span class="hljs-string">"fixtures/hardlink-1"</span>)
  , hard2 = path.resolve(__dirname, <span class="hljs-string">"fixtures/hardlink-2"</span>)
  , fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>)

<span class="hljs-keyword">try</span> { fs.unlinkSync(hard2) } <span class="hljs-keyword">catch</span> (e) {}
fs.linkSync(hard1, hard2)

tap.test(<span class="hljs-string">"with global header"</span>, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">t</span>) </span>{
  runTest(t, <span class="hljs-literal">true</span>)
})

tap.test(<span class="hljs-string">"without global header"</span>, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">t</span>) </span>{
  runTest(t, <span class="hljs-literal">false</span>)
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alphasort</span> (<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a === b ? <span class="hljs-number">0</span>
       : a.toLowerCase() &gt; b.toLowerCase() ? <span class="hljs-number">1</span>
       : a.toLowerCase() &lt; b.toLowerCase() ? <span class="hljs-number">-1</span>
       : a &gt; b ? <span class="hljs-number">1</span>
       : <span class="hljs-number">-1</span>
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runTest</span> (<span class="hljs-params">t, doGH</span>) </span>{
  <span class="hljs-keyword">var</span> reader = Reader({ <span class="hljs-attr">path</span>: input
                      , <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                          <span class="hljs-keyword">return</span> !<span class="hljs-keyword">this</span>.path.match(<span class="hljs-regexp">/\.(tar|hex)$/</span>)
                        }
                      , <span class="hljs-attr">sort</span>: alphasort
                      })

  <span class="hljs-keyword">var</span> props = doGH ? pkg : {}
  props.noProprietary = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">var</span> pack = Pack(props)
  <span class="hljs-keyword">var</span> writer = Writer(target)

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>global header should be skipped regardless, since it has no content.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> entry = <span class="hljs-number">0</span>

  t.ok(reader, <span class="hljs-string">"reader ok"</span>)
  t.ok(pack, <span class="hljs-string">"pack ok"</span>)
  t.ok(writer, <span class="hljs-string">"writer ok"</span>)

  pack.pipe(writer)

  <span class="hljs-keyword">var</span> parse = tar.Parse()
  t.ok(parse, <span class="hljs-string">"parser should be ok"</span>)

  pack.on(<span class="hljs-string">"data"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">c</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>console.error(&quot;PACK DATA&quot;)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (c.length !== <span class="hljs-number">512</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>this one is too noisy, only assert if it'll be relevant</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      t.equal(c.length, <span class="hljs-number">512</span>, <span class="hljs-string">"parser should emit data in 512byte blocks"</span>)
    }
    parse.write(c)
  })

  pack.on(<span class="hljs-string">"end"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>console.error(&quot;PACK END&quot;)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    t.pass(<span class="hljs-string">"parser ends"</span>)
    parse.end()
  })

  pack.on(<span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">er</span>) </span>{
    t.fail(<span class="hljs-string">"pack error"</span>, er)
  })

  parse.on(<span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">er</span>) </span>{
    t.fail(<span class="hljs-string">"parse error"</span>, er)
  })

  writer.on(<span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">er</span>) </span>{
    t.fail(<span class="hljs-string">"writer error"</span>, er)
  })

  reader.on(<span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">er</span>) </span>{
    t.fail(<span class="hljs-string">"reader error"</span>, er)
  })

  parse.on(<span class="hljs-string">"*"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ev, e</span>) </span>{
    <span class="hljs-keyword">var</span> wanted = entries[entry++]
    <span class="hljs-keyword">if</span> (!wanted) {
      t.fail(<span class="hljs-string">"unexpected event: "</span>+ev)
      <span class="hljs-keyword">return</span>
    }
    t.equal(ev, wanted[<span class="hljs-number">0</span>], <span class="hljs-string">"event type should be "</span>+wanted[<span class="hljs-number">0</span>])

    <span class="hljs-keyword">if</span> (ev !== wanted[<span class="hljs-number">0</span>] || e.path !== wanted[<span class="hljs-number">1</span>].path) {
      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"wanted"</span>, wanted)
      <span class="hljs-built_in">console</span>.error([ev, e.props])
      e.on(<span class="hljs-string">"end"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.error(e.fields)
        <span class="hljs-keyword">throw</span> <span class="hljs-string">"break"</span>
      })
    }

    t.has(e.props, wanted[<span class="hljs-number">1</span>], <span class="hljs-string">"properties "</span>+wanted[<span class="hljs-number">1</span>].path)
    <span class="hljs-keyword">if</span> (wanted[<span class="hljs-number">2</span>]) {
      e.on(<span class="hljs-string">"end"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!e.fields) {
          t.ok(e.fields, <span class="hljs-string">"should get fields"</span>)
        } <span class="hljs-keyword">else</span> {
          t.has(e.fields, wanted[<span class="hljs-number">2</span>], <span class="hljs-string">"should get expected fields"</span>)
        }
      })
    }
  })

  reader.pipe(pack)

  writer.on(<span class="hljs-string">"close"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    t.equal(entry, entries.length, <span class="hljs-string">"should get all expected entries"</span>)
    t.pass(<span class="hljs-string">"it finished"</span>)
    t.end()
  })

}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
