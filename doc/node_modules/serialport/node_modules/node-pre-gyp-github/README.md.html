<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "node_modules/serialport/node_modules/node-pre-gyp-github/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#node-pre-gyp-github">node-pre-gyp-github</a>
      </div>

      <div class="heading h5">
        <a href="#a-node-pre-gyp-module-which-provides-the-ability-to-publish-to-github-releases">A node-pre-gyp module which provides the ability to publish to GitHub releases.</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#options">Options</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#configuration">Configuration</a>
      </div>

      <div class="heading h2">
        <a href="#example-publish-to-github-as-a-draft-release">Example (Publish to GitHub as a Draft Release)</a>
      </div>

      <div class="heading h2">
        <a href="#example-publish-to-github-as-a-release">Example (Publish to GitHub as a Release)</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="node-pre-gyp-github">
  <h1>
    <a href="#node-pre-gyp-github" name="node-pre-gyp-github" class="pilcrow"></a>
node-pre-gyp-github
  </h1>
</div>
<div class="pilwrap" id="a-node-pre-gyp-module-which-provides-the-ability-to-publish-to-github-releases">
  <h5>
    <a href="#a-node-pre-gyp-module-which-provides-the-ability-to-publish-to-github-releases" name="a-node-pre-gyp-module-which-provides-the-ability-to-publish-to-github-releases" class="pilcrow"></a>
A node-pre-gyp module which provides the ability to publish to GitHub releases.
  </h5>
</div>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>Instead of <code>node-pre-gyp publish</code> use <strong><code>node-pre-gyp-github publish</code></strong></p>
<div class="pilwrap" id="options">
  <h2>
    <a href="#options" name="options" class="pilcrow"></a>
Options
  </h2>
</div>
<ul>
<li>--release : Publish the GitHub Release immediately instead of creating a Draft.</li>
</ul>
<p>ex. <code>node-pre-gyp-github publish --release</code></p>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code class="javascript">npm install -g node-pre-gyp-github
</code></pre>
<div class="pilwrap" id="configuration">
  <h2>
    <a href="#configuration" name="configuration" class="pilcrow"></a>
Configuration
  </h2>
</div>
<p>This module is intended to be used with node-pre-gyp. Therefore, be sure to configure and install node-pre-gyp first. After having done that, within <strong><code>package.json</code></strong> update the <code>binary</code> property <code>host</code> so it matches the following format:</p>
<pre><code>https://github.com/{owner}/{repo}/releases/download/{1.0.1}
</code></pre>
<p>Be sure to replace <code>{owner}</code>, <code>{repo}</code>, <code>{1.0.1}</code> with actual values.</p>
<p><strong><em>WARNING: Variable substitutions are not supported on the <code>host</code> property so you will have to manually update the version number with every change.</em></strong> Failure to do so will result in users installing the wrong binary versions.</p>
<p><strong>Tip:</strong> Since the version number will be included within the <code>host</code> you can ommit it from the package name.</p>
<p>Within GitHub, create a new authorization:</p>
<ol>
<li>go to Settings</li>
<li>click Personal access tokens</li>
<li>click Generate new token</li>
<li>Select all checkboxes (in a future update I will specify which precise checkboxes are needed, but for now...)</li>
<li>Generate Token</li>
<li>copy the key that's generated and set NODE_PRE_GYP_GITHUB_TOKEN environment variable to it. Within your command prompt:</li>
</ol>
<pre><code>SET NODE_PRE_GYP_GITHUB_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
</code></pre>
<div class="pilwrap" id="example-publish-to-github-as-a-draft-release">
  <h2>
    <a href="#example-publish-to-github-as-a-draft-release" name="example-publish-to-github-as-a-draft-release" class="pilcrow"></a>
Example (Publish to GitHub as a Draft Release)
  </h2>
</div>
<ol>
<li>node-pre-gyp configure</li>
<li>node-pre-gyp build</li>
<li>node-pre-gyp package</li>
<li>node-pre-gyp-github publish</li>
</ol>
<div class="pilwrap" id="example-publish-to-github-as-a-release">
  <h2>
    <a href="#example-publish-to-github-as-a-release" name="example-publish-to-github-as-a-release" class="pilcrow"></a>
Example (Publish to GitHub as a Release)
  </h2>
</div>
<ol>
<li>node-pre-gyp configure</li>
<li>node-pre-gyp build</li>
<li>node-pre-gyp package</li>
<li>node-pre-gyp-github publish --release</li>
</ol>
</div>
  </div>
</body>
</html>
