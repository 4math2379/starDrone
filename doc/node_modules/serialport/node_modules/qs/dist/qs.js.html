<!DOCTYPE html>
<html>
<head>
  <title>qs.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/qs/dist/qs.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>qs.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> exports===<span class="hljs-string">"object"</span>&amp;&amp;<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>!==<span class="hljs-string">"undefined"</span>){<span class="hljs-built_in">module</span>.exports=f()}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> define===<span class="hljs-string">"function"</span>&amp;&amp;define.amd){define([],f)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> g;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>!==<span class="hljs-string">"undefined"</span>){g=<span class="hljs-built_in">window</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> global!==<span class="hljs-string">"undefined"</span>){g=global}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> self!==<span class="hljs-string">"undefined"</span>){g=self}<span class="hljs-keyword">else</span>{g=<span class="hljs-keyword">this</span>}g.Qs = f()}})(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> define,<span class="hljs-built_in">module</span>,exports;<span class="hljs-keyword">return</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">o,u</span>)</span>{<span class="hljs-keyword">if</span>(!n[o]){<span class="hljs-keyword">if</span>(!t[o]){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">if</span>(!u&amp;&amp;a)<span class="hljs-keyword">return</span> a(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> i(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> f=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot find module '"</span>+o+<span class="hljs-string">"'"</span>);<span class="hljs-keyword">throw</span> f.code=<span class="hljs-string">"MODULE_NOT_FOUND"</span>,f}<span class="hljs-keyword">var</span> l=n[o]={<span class="hljs-attr">exports</span>:{}};t[o][<span class="hljs-number">0</span>].call(l.exports,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=t[o][<span class="hljs-number">1</span>][e];<span class="hljs-keyword">return</span> s(n?n:e)},l,l.exports,e,t,n,r)}<span class="hljs-keyword">return</span> n[o].exports}<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r.length;o++)s(r[o]);<span class="hljs-keyword">return</span> s})({<span class="hljs-number">1</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> Stringify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./stringify'</span>);
<span class="hljs-keyword">var</span> Parse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./parse'</span>);

<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">stringify</span>: Stringify,
    <span class="hljs-attr">parse</span>: Parse
};

},{<span class="hljs-string">"./parse"</span>:<span class="hljs-number">2</span>,<span class="hljs-string">"./stringify"</span>:<span class="hljs-number">3</span>}],<span class="hljs-number">2</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> Utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./utils'</span>);

<span class="hljs-keyword">var</span> internals = {
    <span class="hljs-attr">delimiter</span>: <span class="hljs-string">'&amp;'</span>,
    <span class="hljs-attr">depth</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">arrayLimit</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">parameterLimit</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">strictNullHandling</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">plainObjects</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">allowPrototypes</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">allowDots</span>: <span class="hljs-literal">false</span>
};

internals.parseValues = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, options</span>) </span>{
    <span class="hljs-keyword">var</span> obj = {};
    <span class="hljs-keyword">var</span> parts = str.split(options.delimiter, options.parameterLimit === <span class="hljs-literal">Infinity</span> ? <span class="hljs-literal">undefined</span> : options.parameterLimit);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; parts.length; ++i) {
        <span class="hljs-keyword">var</span> part = parts[i];
        <span class="hljs-keyword">var</span> pos = part.indexOf(<span class="hljs-string">']='</span>) === <span class="hljs-number">-1</span> ? part.indexOf(<span class="hljs-string">'='</span>) : part.indexOf(<span class="hljs-string">']='</span>) + <span class="hljs-number">1</span>;

        <span class="hljs-keyword">if</span> (pos === <span class="hljs-number">-1</span>) {
            obj[Utils.decode(part)] = <span class="hljs-string">''</span>;

            <span class="hljs-keyword">if</span> (options.strictNullHandling) {
                obj[Utils.decode(part)] = <span class="hljs-literal">null</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> key = Utils.decode(part.slice(<span class="hljs-number">0</span>, pos));
            <span class="hljs-keyword">var</span> val = Utils.decode(part.slice(pos + <span class="hljs-number">1</span>));

            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(obj, key)) {
                obj[key] = [].concat(obj[key]).concat(val);
            } <span class="hljs-keyword">else</span> {
                obj[key] = val;
            }
        }
    }

    <span class="hljs-keyword">return</span> obj;
};

internals.parseObject = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chain, val, options</span>) </span>{
    <span class="hljs-keyword">if</span> (!chain.length) {
        <span class="hljs-keyword">return</span> val;
    }

    <span class="hljs-keyword">var</span> root = chain.shift();

    <span class="hljs-keyword">var</span> obj;
    <span class="hljs-keyword">if</span> (root === <span class="hljs-string">'[]'</span>) {
        obj = [];
        obj = obj.concat(internals.parseObject(chain, val, options));
    } <span class="hljs-keyword">else</span> {
        obj = options.plainObjects ? <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>) : {};
        <span class="hljs-keyword">var</span> cleanRoot = root[<span class="hljs-number">0</span>] === <span class="hljs-string">'['</span> &amp;&amp; root[root.length - <span class="hljs-number">1</span>] === <span class="hljs-string">']'</span> ? root.slice(<span class="hljs-number">1</span>, root.length - <span class="hljs-number">1</span>) : root;
        <span class="hljs-keyword">var</span> index = <span class="hljs-built_in">parseInt</span>(cleanRoot, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (
            !<span class="hljs-built_in">isNaN</span>(index) &amp;&amp;
            root !== cleanRoot &amp;&amp;
            <span class="hljs-built_in">String</span>(index) === cleanRoot &amp;&amp;
            index &gt;= <span class="hljs-number">0</span> &amp;&amp;
            (options.parseArrays &amp;&amp; index &lt;= options.arrayLimit)
        ) {
            obj = [];
            obj[index] = internals.parseObject(chain, val, options);
        } <span class="hljs-keyword">else</span> {
            obj[cleanRoot] = internals.parseObject(chain, val, options);
        }
    }

    <span class="hljs-keyword">return</span> obj;
};

internals.parseKeys = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">givenKey, val, options</span>) </span>{
    <span class="hljs-keyword">if</span> (!givenKey) {
        <span class="hljs-keyword">return</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Transform dot notation to bracket notation</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> key = options.allowDots ? givenKey.replace(<span class="hljs-regexp">/\.([^\.\[]+)/g</span>, <span class="hljs-string">'[$1]'</span>) : givenKey;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>The regex chunks</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> parent = <span class="hljs-regexp">/^([^\[\]]*)/</span>;
    <span class="hljs-keyword">var</span> child = <span class="hljs-regexp">/(\[[^\[\]]*\])/g</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Get the parent</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> segment = parent.exec(key);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>Stash the parent if it exists</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> keys = [];
    <span class="hljs-keyword">if</span> (segment[<span class="hljs-number">1</span>]) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>If we aren't using plain objects, optionally prefix keys
that would overwrite object prototype properties</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!options.plainObjects &amp;&amp; <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty(segment[<span class="hljs-number">1</span>])) {
            <span class="hljs-keyword">if</span> (!options.allowPrototypes) {
                <span class="hljs-keyword">return</span>;
            }
        }

        keys.push(segment[<span class="hljs-number">1</span>]);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Loop through children appending to the array until we hit depth</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> ((segment = child.exec(key)) !== <span class="hljs-literal">null</span> &amp;&amp; i &lt; options.depth) {
        i += <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (!options.plainObjects &amp;&amp; <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty(segment[<span class="hljs-number">1</span>].replace(<span class="hljs-regexp">/\[|\]/g</span>, <span class="hljs-string">''</span>))) {
            <span class="hljs-keyword">if</span> (!options.allowPrototypes) {
                <span class="hljs-keyword">continue</span>;
            }
        }
        keys.push(segment[<span class="hljs-number">1</span>]);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>If there's a remainder, just add whatever is left</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">if</span> (segment) {
        keys.push(<span class="hljs-string">'['</span> + key.slice(segment.index) + <span class="hljs-string">']'</span>);
    }

    <span class="hljs-keyword">return</span> internals.parseObject(keys, val, options);
};

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, opts</span>) </span>{
    <span class="hljs-keyword">var</span> options = opts || {};
    options.delimiter = <span class="hljs-keyword">typeof</span> options.delimiter === <span class="hljs-string">'string'</span> || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;
    options.depth = <span class="hljs-keyword">typeof</span> options.depth === <span class="hljs-string">'number'</span> ? options.depth : internals.depth;
    options.arrayLimit = <span class="hljs-keyword">typeof</span> options.arrayLimit === <span class="hljs-string">'number'</span> ? options.arrayLimit : internals.arrayLimit;
    options.parseArrays = options.parseArrays !== <span class="hljs-literal">false</span>;
    options.allowDots = <span class="hljs-keyword">typeof</span> options.allowDots === <span class="hljs-string">'boolean'</span> ? options.allowDots : internals.allowDots;
    options.plainObjects = <span class="hljs-keyword">typeof</span> options.plainObjects === <span class="hljs-string">'boolean'</span> ? options.plainObjects : internals.plainObjects;
    options.allowPrototypes = <span class="hljs-keyword">typeof</span> options.allowPrototypes === <span class="hljs-string">'boolean'</span> ? options.allowPrototypes : internals.allowPrototypes;
    options.parameterLimit = <span class="hljs-keyword">typeof</span> options.parameterLimit === <span class="hljs-string">'number'</span> ? options.parameterLimit : internals.parameterLimit;
    options.strictNullHandling = <span class="hljs-keyword">typeof</span> options.strictNullHandling === <span class="hljs-string">'boolean'</span> ? options.strictNullHandling : internals.strictNullHandling;

    <span class="hljs-keyword">if</span> (
        str === <span class="hljs-string">''</span> ||
        str === <span class="hljs-literal">null</span> ||
        <span class="hljs-keyword">typeof</span> str === <span class="hljs-string">'undefined'</span>
    ) {
        <span class="hljs-keyword">return</span> options.plainObjects ? <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>) : {};
    }

    <span class="hljs-keyword">var</span> tempObj = <span class="hljs-keyword">typeof</span> str === <span class="hljs-string">'string'</span> ? internals.parseValues(str, options) : str;
    <span class="hljs-keyword">var</span> obj = options.plainObjects ? <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>) : {};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>Iterate over the keys and setup the new object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-keyword">var</span> keys = <span class="hljs-built_in">Object</span>.keys(tempObj);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keys.length; ++i) {
        <span class="hljs-keyword">var</span> key = keys[i];
        <span class="hljs-keyword">var</span> newObj = internals.parseKeys(key, tempObj[key], options);
        obj = Utils.merge(obj, newObj, options);
    }

    <span class="hljs-keyword">return</span> Utils.compact(obj);
};

},{<span class="hljs-string">"./utils"</span>:<span class="hljs-number">4</span>}],<span class="hljs-number">3</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> Utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./utils'</span>);

<span class="hljs-keyword">var</span> internals = {
    <span class="hljs-attr">delimiter</span>: <span class="hljs-string">'&amp;'</span>,
    <span class="hljs-attr">arrayPrefixGenerators</span>: {
        <span class="hljs-attr">brackets</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prefix</span>) </span>{
            <span class="hljs-keyword">return</span> prefix + <span class="hljs-string">'[]'</span>;
        },
        <span class="hljs-attr">indices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prefix, key</span>) </span>{
            <span class="hljs-keyword">return</span> prefix + <span class="hljs-string">'['</span> + key + <span class="hljs-string">']'</span>;
        },
        <span class="hljs-attr">repeat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prefix</span>) </span>{
            <span class="hljs-keyword">return</span> prefix;
        }
    },
    <span class="hljs-attr">strictNullHandling</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">skipNulls</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">encode</span>: <span class="hljs-literal">true</span>
};

internals.stringify = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots</span>) </span>{
    <span class="hljs-keyword">var</span> obj = object;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> filter === <span class="hljs-string">'function'</span>) {
        obj = filter(prefix, obj);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Utils.isBuffer(obj)) {
        obj = <span class="hljs-built_in">String</span>(obj);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span>) {
        obj = obj.toISOString();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (strictNullHandling) {
            <span class="hljs-keyword">return</span> encode ? Utils.encode(prefix) : prefix;
        }

        obj = <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'string'</span> || <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'number'</span> || <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'boolean'</span>) {
        <span class="hljs-keyword">if</span> (encode) {
            <span class="hljs-keyword">return</span> [Utils.encode(prefix) + <span class="hljs-string">'='</span> + Utils.encode(obj)];
        }
        <span class="hljs-keyword">return</span> [prefix + <span class="hljs-string">'='</span> + obj];
    }

    <span class="hljs-keyword">var</span> values = [];

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">return</span> values;
    }

    <span class="hljs-keyword">var</span> objKeys;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(filter)) {
        objKeys = filter;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> keys = <span class="hljs-built_in">Object</span>.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; objKeys.length; ++i) {
        <span class="hljs-keyword">var</span> key = objKeys[i];

        <span class="hljs-keyword">if</span> (skipNulls &amp;&amp; obj[key] === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(obj)) {
            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));
        } <span class="hljs-keyword">else</span> {
            values = values.concat(internals.stringify(obj[key], prefix + (allowDots ? <span class="hljs-string">'.'</span> + key : <span class="hljs-string">'['</span> + key + <span class="hljs-string">']'</span>), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));
        }
    }

    <span class="hljs-keyword">return</span> values;
};

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">object, opts</span>) </span>{
    <span class="hljs-keyword">var</span> obj = object;
    <span class="hljs-keyword">var</span> options = opts || {};
    <span class="hljs-keyword">var</span> delimiter = <span class="hljs-keyword">typeof</span> options.delimiter === <span class="hljs-string">'undefined'</span> ? internals.delimiter : options.delimiter;
    <span class="hljs-keyword">var</span> strictNullHandling = <span class="hljs-keyword">typeof</span> options.strictNullHandling === <span class="hljs-string">'boolean'</span> ? options.strictNullHandling : internals.strictNullHandling;
    <span class="hljs-keyword">var</span> skipNulls = <span class="hljs-keyword">typeof</span> options.skipNulls === <span class="hljs-string">'boolean'</span> ? options.skipNulls : internals.skipNulls;
    <span class="hljs-keyword">var</span> encode = <span class="hljs-keyword">typeof</span> options.encode === <span class="hljs-string">'boolean'</span> ? options.encode : internals.encode;
    <span class="hljs-keyword">var</span> sort = <span class="hljs-keyword">typeof</span> options.sort === <span class="hljs-string">'function'</span> ? options.sort : <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> allowDots = <span class="hljs-keyword">typeof</span> options.allowDots === <span class="hljs-string">'undefined'</span> ? <span class="hljs-literal">false</span> : options.allowDots;
    <span class="hljs-keyword">var</span> objKeys;
    <span class="hljs-keyword">var</span> filter;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.filter === <span class="hljs-string">'function'</span>) {
        filter = options.filter;
        obj = filter(<span class="hljs-string">''</span>, obj);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(options.filter)) {
        objKeys = filter = options.filter;
    }

    <span class="hljs-keyword">var</span> keys = [];

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span> || obj === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">var</span> arrayFormat;
    <span class="hljs-keyword">if</span> (options.arrayFormat <span class="hljs-keyword">in</span> internals.arrayPrefixGenerators) {
        arrayFormat = options.arrayFormat;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">'indices'</span> <span class="hljs-keyword">in</span> options) {
        arrayFormat = options.indices ? <span class="hljs-string">'indices'</span> : <span class="hljs-string">'repeat'</span>;
    } <span class="hljs-keyword">else</span> {
        arrayFormat = <span class="hljs-string">'indices'</span>;
    }

    <span class="hljs-keyword">var</span> generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];

    <span class="hljs-keyword">if</span> (!objKeys) {
        objKeys = <span class="hljs-built_in">Object</span>.keys(obj);
    }

    <span class="hljs-keyword">if</span> (sort) {
        objKeys.sort(sort);
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; objKeys.length; ++i) {
        <span class="hljs-keyword">var</span> key = objKeys[i];

        <span class="hljs-keyword">if</span> (skipNulls &amp;&amp; obj[key] === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">continue</span>;
        }

        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));
    }

    <span class="hljs-keyword">return</span> keys.join(delimiter);
};

},{<span class="hljs-string">"./utils"</span>:<span class="hljs-number">4</span>}],<span class="hljs-number">4</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> hexTable = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> array = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">256</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; ++i) {
        array[i] = <span class="hljs-string">'%'</span> + ((i &lt; <span class="hljs-number">16</span> ? <span class="hljs-string">'0'</span> : <span class="hljs-string">''</span>) + i.toString(<span class="hljs-number">16</span>)).toUpperCase();
    }

    <span class="hljs-keyword">return</span> array;
}());

exports.arrayToObject = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">source, options</span>) </span>{
    <span class="hljs-keyword">var</span> obj = options.plainObjects ? <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>) : {};
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; source.length; ++i) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source[i] !== <span class="hljs-string">'undefined'</span>) {
            obj[i] = source[i];
        }
    }

    <span class="hljs-keyword">return</span> obj;
};

exports.merge = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, source, options</span>) </span>{
    <span class="hljs-keyword">if</span> (!source) {
        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source !== <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(target)) {
            target.push(source);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target === <span class="hljs-string">'object'</span>) {
            target[source] = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> [target, source];
        }

        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">return</span> [target].concat(source);
    }

    <span class="hljs-keyword">var</span> mergeTarget = target;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(target) &amp;&amp; !<span class="hljs-built_in">Array</span>.isArray(source)) {
        mergeTarget = exports.arrayToObject(target, options);
    }

	<span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(source).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">acc, key</span>) </span>{
        <span class="hljs-keyword">var</span> value = source[key];

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(acc, key)) {
            acc[key] = exports.merge(acc[key], value, options);
        } <span class="hljs-keyword">else</span> {
            acc[key] = value;
        }
		<span class="hljs-keyword">return</span> acc;
    }, mergeTarget);
};

exports.decode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">decodeURIComponent</span>(str.replace(<span class="hljs-regexp">/\+/g</span>, <span class="hljs-string">' '</span>));
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> str;
    }
};

exports.encode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>This code was originally written by Brian White (mscdex) for the io.js core querystring library.
It has been adapted here for stricter adherence to RFC 3986</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (str.length === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> str;
    }

    <span class="hljs-keyword">var</span> string = <span class="hljs-keyword">typeof</span> str === <span class="hljs-string">'string'</span> ? str : <span class="hljs-built_in">String</span>(str);

    <span class="hljs-keyword">var</span> out = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; string.length; ++i) {
        <span class="hljs-keyword">var</span> c = string.charCodeAt(i);

        <span class="hljs-keyword">if</span> (
            c === <span class="hljs-number">0x2D</span> || <span class="hljs-comment">// -</span>
            c === <span class="hljs-number">0x2E</span> || <span class="hljs-comment">// .</span>
            c === <span class="hljs-number">0x5F</span> || <span class="hljs-comment">// _</span>
            c === <span class="hljs-number">0x7E</span> || <span class="hljs-comment">// ~</span>
            (c &gt;= <span class="hljs-number">0x30</span> &amp;&amp; c &lt;= <span class="hljs-number">0x39</span>) || <span class="hljs-comment">// 0-9</span>
            (c &gt;= <span class="hljs-number">0x41</span> &amp;&amp; c &lt;= <span class="hljs-number">0x5A</span>) || <span class="hljs-comment">// a-z</span>
            (c &gt;= <span class="hljs-number">0x61</span> &amp;&amp; c &lt;= <span class="hljs-number">0x7A</span>) <span class="hljs-comment">// A-Z</span>
        ) {
            out += string.charAt(i);
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> (c &lt; <span class="hljs-number">0x80</span>) {
            out = out + hexTable[c];
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> (c &lt; <span class="hljs-number">0x800</span>) {
            out = out + (hexTable[<span class="hljs-number">0xC0</span> | (c &gt;&gt; <span class="hljs-number">6</span>)] + hexTable[<span class="hljs-number">0x80</span> | (c &amp; <span class="hljs-number">0x3F</span>)]);
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">if</span> (c &lt; <span class="hljs-number">0xD800</span> || c &gt;= <span class="hljs-number">0xE000</span>) {
            out = out + (hexTable[<span class="hljs-number">0xE0</span> | (c &gt;&gt; <span class="hljs-number">12</span>)] + hexTable[<span class="hljs-number">0x80</span> | ((c &gt;&gt; <span class="hljs-number">6</span>) &amp; <span class="hljs-number">0x3F</span>)] + hexTable[<span class="hljs-number">0x80</span> | (c &amp; <span class="hljs-number">0x3F</span>)]);
            <span class="hljs-keyword">continue</span>;
        }

        i += <span class="hljs-number">1</span>;
        c = <span class="hljs-number">0x10000</span> + (((c &amp; <span class="hljs-number">0x3FF</span>) &lt;&lt; <span class="hljs-number">10</span>) | (string.charCodeAt(i) &amp; <span class="hljs-number">0x3FF</span>));
        out += (hexTable[<span class="hljs-number">0xF0</span> | (c &gt;&gt; <span class="hljs-number">18</span>)] + hexTable[<span class="hljs-number">0x80</span> | ((c &gt;&gt; <span class="hljs-number">12</span>) &amp; <span class="hljs-number">0x3F</span>)] + hexTable[<span class="hljs-number">0x80</span> | ((c &gt;&gt; <span class="hljs-number">6</span>) &amp; <span class="hljs-number">0x3F</span>)] + hexTable[<span class="hljs-number">0x80</span> | (c &amp; <span class="hljs-number">0x3F</span>)]);
    }

    <span class="hljs-keyword">return</span> out;
};

exports.compact = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj, references</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span> || obj === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> obj;
    }

    <span class="hljs-keyword">var</span> refs = references || [];
    <span class="hljs-keyword">var</span> lookup = refs.indexOf(obj);
    <span class="hljs-keyword">if</span> (lookup !== <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">return</span> refs[lookup];
    }

    refs.push(obj);

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(obj)) {
        <span class="hljs-keyword">var</span> compacted = [];

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; obj.length; ++i) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj[i] !== <span class="hljs-string">'undefined'</span>) {
                compacted.push(obj[i]);
            }
        }

        <span class="hljs-keyword">return</span> compacted;
    }

    <span class="hljs-keyword">var</span> keys = <span class="hljs-built_in">Object</span>.keys(obj);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; keys.length; ++j) {
        <span class="hljs-keyword">var</span> key = keys[j];
        obj[key] = exports.compact(obj[key], refs);
    }

    <span class="hljs-keyword">return</span> obj;
};

exports.isRegExp = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(obj) === <span class="hljs-string">'[object RegExp]'</span>;
};

exports.isBuffer = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">return</span> !!(obj.constructor &amp;&amp; obj.constructor.isBuffer &amp;&amp; obj.constructor.isBuffer(obj));
};

},{}]},{},[<span class="hljs-number">1</span>])(<span class="hljs-number">1</span>)
});
</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
