<!DOCTYPE html>
<html>
<head>
  <title>ansi.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/ansi/lib/ansi.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>ansi.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>References:</p>
</div>
<div class="body">
<ul>
<li>http://en.wikipedia.org/wiki/ANSI_escape_code
<ul>
<li>http://www.termsys.demon.co.uk/vtansi.htm</li>
</ul>
</li>
</ul>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Module dependencies.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> emitNewlineEvents = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./newlines'</span>)
  , prefix = <span class="hljs-string">'\x1b['</span> <span class="hljs-comment">// For all escape codes</span>
  , suffix = <span class="hljs-string">'m'</span>     <span class="hljs-comment">// Only for color codes</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>The ANSI escape sequences.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> codes = {
    <span class="hljs-attr">up</span>: <span class="hljs-string">'A'</span>
  , <span class="hljs-attr">down</span>: <span class="hljs-string">'B'</span>
  , <span class="hljs-attr">forward</span>: <span class="hljs-string">'C'</span>
  , <span class="hljs-attr">back</span>: <span class="hljs-string">'D'</span>
  , <span class="hljs-attr">nextLine</span>: <span class="hljs-string">'E'</span>
  , <span class="hljs-attr">previousLine</span>: <span class="hljs-string">'F'</span>
  , <span class="hljs-attr">horizontalAbsolute</span>: <span class="hljs-string">'G'</span>
  , <span class="hljs-attr">eraseData</span>: <span class="hljs-string">'J'</span>
  , <span class="hljs-attr">eraseLine</span>: <span class="hljs-string">'K'</span>
  , <span class="hljs-attr">scrollUp</span>: <span class="hljs-string">'S'</span>
  , <span class="hljs-attr">scrollDown</span>: <span class="hljs-string">'T'</span>
  , <span class="hljs-attr">savePosition</span>: <span class="hljs-string">'s'</span>
  , <span class="hljs-attr">restorePosition</span>: <span class="hljs-string">'u'</span>
  , <span class="hljs-attr">queryPosition</span>: <span class="hljs-string">'6n'</span>
  , <span class="hljs-attr">hide</span>: <span class="hljs-string">'?25l'</span>
  , <span class="hljs-attr">show</span>: <span class="hljs-string">'?25h'</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Rendering ANSI codes.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> styles = {
    <span class="hljs-attr">bold</span>: <span class="hljs-number">1</span>
  , <span class="hljs-attr">italic</span>: <span class="hljs-number">3</span>
  , <span class="hljs-attr">underline</span>: <span class="hljs-number">4</span>
  , <span class="hljs-attr">inverse</span>: <span class="hljs-number">7</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>The negating ANSI code for the rendering modes.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> reset = {
    <span class="hljs-attr">bold</span>: <span class="hljs-number">22</span>
  , <span class="hljs-attr">italic</span>: <span class="hljs-number">23</span>
  , <span class="hljs-attr">underline</span>: <span class="hljs-number">24</span>
  , <span class="hljs-attr">inverse</span>: <span class="hljs-number">27</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>The standard, styleable ANSI colors.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> colors = {
    <span class="hljs-attr">white</span>: <span class="hljs-number">37</span>
  , <span class="hljs-attr">black</span>: <span class="hljs-number">30</span>
  , <span class="hljs-attr">blue</span>: <span class="hljs-number">34</span>
  , <span class="hljs-attr">cyan</span>: <span class="hljs-number">36</span>
  , <span class="hljs-attr">green</span>: <span class="hljs-number">32</span>
  , <span class="hljs-attr">magenta</span>: <span class="hljs-number">35</span>
  , <span class="hljs-attr">red</span>: <span class="hljs-number">31</span>
  , <span class="hljs-attr">yellow</span>: <span class="hljs-number">33</span>
  , <span class="hljs-attr">grey</span>: <span class="hljs-number">90</span>
  , <span class="hljs-attr">brightBlack</span>: <span class="hljs-number">90</span>
  , <span class="hljs-attr">brightRed</span>: <span class="hljs-number">91</span>
  , <span class="hljs-attr">brightGreen</span>: <span class="hljs-number">92</span>
  , <span class="hljs-attr">brightYellow</span>: <span class="hljs-number">93</span>
  , <span class="hljs-attr">brightBlue</span>: <span class="hljs-number">94</span>
  , <span class="hljs-attr">brightMagenta</span>: <span class="hljs-number">95</span>
  , <span class="hljs-attr">brightCyan</span>: <span class="hljs-number">96</span>
  , <span class="hljs-attr">brightWhite</span>: <span class="hljs-number">97</span>
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Creates a Cursor instance based off the given <code>writable stream</code> instance.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ansi</span> (<span class="hljs-params">stream, options</span>) </span>{
  <span class="hljs-keyword">if</span> (stream._ansicursor) {
    <span class="hljs-keyword">return</span> stream._ansicursor
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> stream._ansicursor = <span class="hljs-keyword">new</span> Cursor(stream, options)
  }
}
<span class="hljs-built_in">module</span>.exports = exports = ansi

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>The <code>Cursor</code> class.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Cursor</span> (<span class="hljs-params">stream, options</span>) </span>{
  <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> Cursor)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Cursor(stream, options)
  }
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> stream != <span class="hljs-string">'object'</span> || <span class="hljs-keyword">typeof</span> stream.write != <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'a valid Stream instance must be passed in'</span>)
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>the stream to use</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.stream = stream

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>when 'enabled' is false then all the functions are no-ops except for write()</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.enabled = options &amp;&amp; options.enabled
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.enabled === <span class="hljs-string">'undefined'</span>) {
    <span class="hljs-keyword">this</span>.enabled = stream.isTTY
  }
  <span class="hljs-keyword">this</span>.enabled = !!<span class="hljs-keyword">this</span>.enabled

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>then <code>buffering</code> is true, then <code>write()</code> calls are buffered in
memory until <code>flush()</code> is invoked</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.buffering = !!(options &amp;&amp; options.buffering)
  <span class="hljs-keyword">this</span>._buffer = []

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>controls the foreground and background colors</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.fg = <span class="hljs-keyword">this</span>.foreground = <span class="hljs-keyword">new</span> Colorer(<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>)
  <span class="hljs-keyword">this</span>.bg = <span class="hljs-keyword">this</span>.background = <span class="hljs-keyword">new</span> Colorer(<span class="hljs-keyword">this</span>, <span class="hljs-number">10</span>)

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>defaults</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.Bold = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Italic = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Underline = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Inverse = <span class="hljs-literal">false</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>keep track of the number of &quot;newlines&quot; that get encountered</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.newlines = <span class="hljs-number">0</span>
  emitNewlineEvents(stream)
  stream.on(<span class="hljs-string">'newline'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.newlines++
  }.bind(<span class="hljs-keyword">this</span>))
}
exports.Cursor = Cursor

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Helper function that calls <code>write()</code> on the underlying Stream.
Returns <code>this</code> instead of the write() return value to keep
the chaining going.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.write = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.buffering) {
    <span class="hljs-keyword">this</span>._buffer.push(<span class="hljs-built_in">arguments</span>)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">this</span>.stream.write.apply(<span class="hljs-keyword">this</span>.stream, <span class="hljs-built_in">arguments</span>)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>Buffer <code>write()</code> calls into memory.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.buffer = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.buffering = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<div class="dox">
<div class="summary">
<p>Write out the in-memory buffer.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.flush = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.buffering = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">var</span> str = <span class="hljs-keyword">this</span>._buffer.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">if</span> (args.length != <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'unexpected args length! '</span> + args.length);
    <span class="hljs-keyword">return</span> args[<span class="hljs-number">0</span>];
  }).join(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">this</span>._buffer.splice(<span class="hljs-number">0</span>); <span class="hljs-comment">// empty</span>
  <span class="hljs-keyword">this</span>.write(str);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<div class="dox">
<div class="summary">
<p>The <code>Colorer</code> class manages both the background and foreground colors.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Colorer</span> (<span class="hljs-params">cursor, base</span>) </span>{
  <span class="hljs-keyword">this</span>.current = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">this</span>.cursor = cursor
  <span class="hljs-keyword">this</span>.base = base
}
exports.Colorer = Colorer

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<div class="dox">
<div class="summary">
<p>Write an ANSI color code, ensuring that the same code doesn't get rewritten.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Colorer.prototype._setColorCode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setColorCode</span> (<span class="hljs-params">code</span>) </span>{
  <span class="hljs-keyword">var</span> c = <span class="hljs-built_in">String</span>(code)
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.current === c) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">this</span>.cursor.enabled &amp;&amp; <span class="hljs-keyword">this</span>.cursor.write(prefix + c + suffix)
  <span class="hljs-keyword">this</span>.current = c
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set up the positional ANSI codes.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-built_in">Object</span>.keys(codes).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">var</span> code = <span class="hljs-built_in">String</span>(codes[name])
  Cursor.prototype[name] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> c = code
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">0</span>) {
      c = toArray(<span class="hljs-built_in">arguments</span>).map(<span class="hljs-built_in">Math</span>.round).join(<span class="hljs-string">';'</span>) + code
    }
    <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(prefix + c)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
  }
})

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set up the functions for the rendering ANSI codes.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-built_in">Object</span>.keys(styles).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">style</span>) </span>{
  <span class="hljs-keyword">var</span> name = style[<span class="hljs-number">0</span>].toUpperCase() + style.substring(<span class="hljs-number">1</span>)
    , c = styles[style]
    , r = reset[style]

  Cursor.prototype[style] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>[name]) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(prefix + c + suffix)
    <span class="hljs-keyword">this</span>[name] = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
  }

  Cursor.prototype[<span class="hljs-string">'reset'</span> + name] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>[name]) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(prefix + r + suffix)
    <span class="hljs-keyword">this</span>[name] = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
  }
})

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<div class="dox">
<div class="summary">
<p>Setup the functions for the standard colors.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-built_in">Object</span>.keys(colors).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">color</span>) </span>{
  <span class="hljs-keyword">var</span> code = colors[color]

  Colorer.prototype[color] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>._setColorCode(<span class="hljs-keyword">this</span>.base + code)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cursor
  }

  Cursor.prototype[color] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foreground[color]()
  }
})

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<div class="dox">
<div class="summary">
<p>Makes a beep sound!</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.beep = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(<span class="hljs-string">'\x07'</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<div class="dox">
<div class="summary">
<p>Moves cursor to specific position</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.goto = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) </span>{
  x = x | <span class="hljs-number">0</span>
  y = y | <span class="hljs-number">0</span>
  <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(prefix + y + <span class="hljs-string">';'</span> + x + <span class="hljs-string">'H'</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<div class="dox">
<div class="summary">
<p>Resets the color.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Colorer.prototype.reset = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>._setColorCode(<span class="hljs-keyword">this</span>.base + <span class="hljs-number">39</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cursor
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<div class="dox">
<div class="summary">
<p>Resets all ANSI formatting on the stream.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.reset = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.enabled &amp;&amp; <span class="hljs-keyword">this</span>.write(prefix + <span class="hljs-string">'0'</span> + suffix)
  <span class="hljs-keyword">this</span>.Bold = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Italic = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Underline = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.Inverse = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>.foreground.current = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">this</span>.background.current = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<div class="dox">
<div class="summary">
<p>Sets the foreground color with the given RGB values.
The closest match out of the 216 colors is picked.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Colorer.prototype.rgb = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r, g, b</span>) </span>{
  <span class="hljs-keyword">var</span> base = <span class="hljs-keyword">this</span>.base + <span class="hljs-number">38</span>
    , code = rgb(r, g, b)
  <span class="hljs-keyword">this</span>._setColorCode(base + <span class="hljs-string">';5;'</span> + code)
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cursor
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<div class="dox">
<div class="summary">
<p>Same as <code>cursor.fg.rgb(r, g, b)</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.rgb = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r, g, b</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foreground.rgb(r, g, b)
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<div class="dox">
<div class="summary">
<p>Accepts CSS color codes for use with ANSI escape codes.
For example: <code>#FF000</code> would be bright red.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Colorer.prototype.hex = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">color</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rgb.apply(<span class="hljs-keyword">this</span>, hex(color))
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<div class="dox">
<div class="summary">
<p>Same as <code>cursor.fg.hex(color)</code>.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
Cursor.prototype.hex = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">color</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.foreground.hex(color)
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>UTIL FUNCTIONS //</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>Translates a 255 RGB value to a 0-5 ANSI RGV value,
then returns the single ANSI color code to use.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgb</span> (<span class="hljs-params">r, g, b</span>) </span>{
  <span class="hljs-keyword">var</span> red = r / <span class="hljs-number">255</span> * <span class="hljs-number">5</span>
    , green = g / <span class="hljs-number">255</span> * <span class="hljs-number">5</span>
    , blue = b / <span class="hljs-number">255</span> * <span class="hljs-number">5</span>
  <span class="hljs-keyword">return</span> rgb5(red, green, blue)
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<div class="dox">
<div class="summary">
<p>Turns rgb 0-5 values into a single ANSI color code to use.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgb5</span> (<span class="hljs-params">r, g, b</span>) </span>{
  <span class="hljs-keyword">var</span> red = <span class="hljs-built_in">Math</span>.round(r)
    , green = <span class="hljs-built_in">Math</span>.round(g)
    , blue = <span class="hljs-built_in">Math</span>.round(b)
  <span class="hljs-keyword">return</span> <span class="hljs-number">16</span> + (red*<span class="hljs-number">36</span>) + (green*<span class="hljs-number">6</span>) + blue
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<div class="dox">
<div class="summary">
<p>Accepts a hex CSS color code string (# is optional) and
translates it into an Array of 3 RGB 0-255 values, which
can then be used with rgb().</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hex</span> (<span class="hljs-params">color</span>) </span>{
  <span class="hljs-keyword">var</span> c = color[<span class="hljs-number">0</span>] === <span class="hljs-string">'#'</span> ? color.substring(<span class="hljs-number">1</span>) : color
    , r = c.substring(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)
    , g = c.substring(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)
    , b = c.substring(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>)
  <span class="hljs-keyword">return</span> [<span class="hljs-built_in">parseInt</span>(r, <span class="hljs-number">16</span>), <span class="hljs-built_in">parseInt</span>(g, <span class="hljs-number">16</span>), <span class="hljs-built_in">parseInt</span>(b, <span class="hljs-number">16</span>)]
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<div class="dox">
<div class="summary">
<p>Turns an array-like object into a real array.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toArray</span> (<span class="hljs-params">a</span>) </span>{
  <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
    , l = a.length
    , rtn = []
  <span class="hljs-keyword">for</span> (; i&lt;l; i++) {
    rtn.push(a[i])
  }
  <span class="hljs-keyword">return</span> rtn
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
