<!DOCTYPE html>
<html>
<head>
  <title>util.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "node_modules/serialport/node_modules/github/util.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>util.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>section: github
class Util</p>
</div>
<div class="body">
<p>Copyright 2012 Cloud9 IDE, Inc.</p>
<p>This product includes software developed by
Cloud9 IDE, Inc (http://c9.io).</p>
<p>Author: Mike de Boer <a href="mailto:mike@c9.io.html">mike@c9.io</a></p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> Util = <span class="hljs-built_in">require</span>(<span class="hljs-string">"util"</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#extend(dest, src, noOverwrite) -&gt; Object
- dest (Object): destination object
- src (Object): source object
- noOverwrite (Boolean): set to <code>true</code> to overwrite values in <code>src</code></p>
</div>
<div class="body">
<p>Shallow copy of properties from the <code>src</code> object to the <code>dest</code> object. If the
<code>noOverwrite</code> argument is set to to <code>true</code>, the value of a property in <code>src</code>
will not be overwritten if it already exists.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.extend = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dest, src, noOverwrite</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> src) {
        <span class="hljs-keyword">if</span> (!noOverwrite || <span class="hljs-keyword">typeof</span> dest[prop] == <span class="hljs-string">"undefined"</span>)
            dest[prop] = src[prop];
    }
    <span class="hljs-keyword">return</span> dest;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#escapeRegExp(str) -&gt; String
- str (String): string to escape</p>
</div>
<div class="body">
<p>Escapes characters inside a string that will an error when it is used as part
of a regex upon instantiation like in <code>new RegExp(&quot;[0-9&quot; + str + &quot;]&quot;)</code></p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.escapeRegExp = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) </span>{
    <span class="hljs-keyword">return</span> str.replace(<span class="hljs-regexp">/([.*+?^${}()|[\]\/\\])/g</span>, <span class="hljs-string">'\\$1'</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#toCamelCase(str, [upper]) -&gt; String
- str (String): string to transform
- upper (Boolean): set to <code>true</code> to transform to CamelCase</p>
</div>
<div class="body">
<p>Transform a string that contains spaces or dashes to camelCase. If <code>upper</code> is
set to <code>true</code>, the string will be transformed to CamelCase.</p>
<p>Example:</p>
<pre><code> Util.toCamelCase(&quot;why U no-work&quot;); // returns 'whyUNoWork'
 Util.toCamelCase(&quot;I U no-work&quot;, true); // returns 'WhyUNoWork'</code></pre>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.toCamelCase = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, upper</span>) </span>{
    str = str.toLowerCase().replace(<span class="hljs-regexp">/(?:(^.)|(\s+.)|(-.))/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) </span>{
        <span class="hljs-keyword">return</span> match.charAt(match.length - <span class="hljs-number">1</span>).toUpperCase();
    });
    <span class="hljs-keyword">if</span> (upper)
        <span class="hljs-keyword">return</span> str;
    <span class="hljs-keyword">return</span> str.charAt(<span class="hljs-number">0</span>).toLowerCase() + str.substr(<span class="hljs-number">1</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#isTrue(c) -&gt; Boolean
- c (mixed): value the variable to check. Possible values:
true   The function returns true.
'true' The function returns true.
'on'   The function returns true.
1      The function returns true.
'1'    The function returns true.</p>
</div>
<div class="body">
<p>Determines whether a string is true in the html attribute sense.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.isTrue = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)</span>{
    <span class="hljs-keyword">return</span> (c === <span class="hljs-literal">true</span> || c === <span class="hljs-string">"true"</span> || c === <span class="hljs-string">"on"</span> || <span class="hljs-keyword">typeof</span> c == <span class="hljs-string">"number"</span> &amp;&amp; c &gt; <span class="hljs-number">0</span> || c === <span class="hljs-string">"1"</span>);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#isFalse(c) -&gt; Boolean
- c (mixed): value the variable to check. Possible values:
false   The function returns true.
'false' The function returns true.
'off'   The function returns true.
0       The function returns true.
'0'     The function returns true.</p>
</div>
<div class="body">
<p>Determines whether a string is false in the html attribute sense.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.isFalse = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)</span>{
    <span class="hljs-keyword">return</span> (c === <span class="hljs-literal">false</span> || c === <span class="hljs-string">"false"</span> || c === <span class="hljs-string">"off"</span> || c === <span class="hljs-number">0</span> || c === <span class="hljs-string">"0"</span>);
};

<span class="hljs-keyword">var</span> levels = {
    <span class="hljs-string">"info"</span>:  [<span class="hljs-string">"\033[90m"</span>, <span class="hljs-string">"\033[39m"</span>], <span class="hljs-comment">// grey</span>
    <span class="hljs-string">"error"</span>: [<span class="hljs-string">"\033[31m"</span>, <span class="hljs-string">"\033[39m"</span>], <span class="hljs-comment">// red</span>
    <span class="hljs-string">"fatal"</span>: [<span class="hljs-string">"\033[35m"</span>, <span class="hljs-string">"\033[39m"</span>], <span class="hljs-comment">// magenta</span>
    <span class="hljs-string">"exit"</span>:  [<span class="hljs-string">"\033[36m"</span>, <span class="hljs-string">"\033[39m"</span>]  <span class="hljs-comment">// cyan</span>
};
<span class="hljs-keyword">var</span> _slice = <span class="hljs-built_in">Array</span>.prototype.slice;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Util#log(arg1, [arg2], [type]) -&gt; null
- arg1 (mixed): messages to be printed to the standard output
- type (String): type denotation of the message. Possible values:
'info', 'error', 'fatal', 'exit'. Optional, defaults to 'info'.</p>
</div>
<div class="body">
<p>Unified logging to the console; arguments passed to this function will put logged
to the standard output of the current process and properly formatted.
Any non-String object will be inspected by the NodeJS util#inspect utility
function.
Messages will be prefixed with its type (with corresponding font color), like so:</p>
<pre><code> [info] informational message
 [error] error message
 [fatal] fatal error message
 [exit] program exit message (not an error)
</code></pre>
<p>The type of message can be defined by passing it to this function as the last/
final argument. If the type can not be found, this last/ final argument will be
regarded as yet another message.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">exports.log = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> args = _slice.call(<span class="hljs-built_in">arguments</span>);
    <span class="hljs-keyword">var</span> lastArg = args[args.length - <span class="hljs-number">1</span>];

    <span class="hljs-keyword">var</span> level = levels[lastArg] ? args.pop() : <span class="hljs-string">"info"</span>;
    <span class="hljs-keyword">if</span> (!args.length)
        <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">var</span> msg = args.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> arg != <span class="hljs-string">"string"</span> ? Util.inspect(arg) : arg;
    }).join(<span class="hljs-string">" "</span>);
    <span class="hljs-keyword">var</span> pfx = levels[level][<span class="hljs-number">0</span>] + <span class="hljs-string">"["</span> + level + <span class="hljs-string">"]"</span> + levels[level][<span class="hljs-number">1</span>];

    msg.split(<span class="hljs-string">"\n"</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">line</span>) </span>{
        <span class="hljs-built_in">console</span>.log(pfx + <span class="hljs-string">" "</span> + line);
    });
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
