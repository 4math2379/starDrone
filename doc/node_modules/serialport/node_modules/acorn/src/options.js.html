<!DOCTYPE html>
<html>
<head>
  <title>options.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/acorn/src/options.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>options.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">import</span> {has, isArray} <span class="hljs-keyword">from</span> <span class="hljs-string">"./util"</span>
<span class="hljs-keyword">import</span> {SourceLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">"./location"</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>A second optional argument can be given to further configure
the parser process. These options are recognized:</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> defaultOptions = {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p><code>ecmaVersion</code> indicates the ECMAScript version to parse. Must
be either 3, or 5, or 6. This influences support for strict
mode, the set of reserved words, support for getters and
setters and other features.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ecmaVersion: <span class="hljs-number">5</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Source type (&quot;script&quot; or &quot;module&quot;) for different semantics</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  sourceType: <span class="hljs-string">"script"</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p><code>onInsertedSemicolon</code> can be a callback that will be called
when a semicolon is automatically inserted. It will be passed
th position of the comma as an offset, and if <code>locations</code> is
enabled, it is given the location as a <code>{line, column}</code> object
as second argument.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  onInsertedSemicolon: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p><code>onTrailingComma</code> is similar to <code>onInsertedSemicolon</code>, but for
trailing commas.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  onTrailingComma: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>By default, reserved words are not enforced. Disable
<code>allowReserved</code> to enforce them. When this option has the
value &quot;never&quot;, reserved words and keywords can also not be
used as property names.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  allowReserved: <span class="hljs-literal">true</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>When enabled, a return at the top level is not considered an
error.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  allowReturnOutsideFunction: <span class="hljs-literal">false</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>When enabled, import/export statements are not constrained to
appearing at the top of the program.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  allowImportExportEverywhere: <span class="hljs-literal">false</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>When enabled, hashbang directive in the beginning of file
is allowed and treated as a line comment.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  allowHashBang: <span class="hljs-literal">false</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>When <code>locations</code> is on, <code>loc</code> properties holding objects with
<code>start</code> and <code>end</code> properties in <code>{line, column}</code> form (with
line being 1-based and column 0-based) will be attached to the
nodes.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  locations: <span class="hljs-literal">false</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>A function can be passed as <code>onToken</code> option, which will
cause Acorn to call that function with object in the same
format as tokenize() returns. Note that you are not
allowed to call the parser from the callback—that will
corrupt its internal state.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  onToken: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>A function can be passed as <code>onComment</code> option, which will
cause Acorn to call that function with <code>(block, text, start, end)</code> parameters whenever a comment is skipped. <code>block</code> is a
boolean indicating whether this is a block (<code>/* */</code>) comment,
<code>text</code> is the content of the comment, and <code>start</code> and <code>end</code> are
character offsets that denote the start and end of the comment.
When the <code>locations</code> option is on, two more parameters are
passed, the full <code>{line, column}</code> locations of the start and
end of the comments. Note that you are not allowed to call the
parser from the callback—that will corrupt its internal state.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  onComment: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>Nodes have their start and end characters offsets recorded in
<code>start</code> and <code>end</code> properties (directly on the node, rather than
the <code>loc</code> object, which holds line/column data. To also add a
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678">semi-standardized</a> <code>range</code> property holding a <code>[start, end]</code> array with the same numbers, set the <code>ranges</code> option to
<code>true</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ranges: <span class="hljs-literal">false</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>It is possible to parse multiple files into a single AST by
passing the tree produced by parsing the first file as
<code>program</code> option in subsequent parses. This will add the
toplevel forms of the parsed file to the <code>Program</code> (top) node
of an existing parse tree.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  program: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>When <code>locations</code> is on, you can pass this to record the source
file in every node's <code>loc</code> object.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  sourceFile: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>This value, if given, is stored in every node, whether
<code>locations</code> is on or off.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  directSourceFile: <span class="hljs-literal">null</span>,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>When enabled, parenthesized expressions are represented by
(non-standard) ParenthesizedExpression nodes</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  preserveParens: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">plugins</span>: {}
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Interpret and default an options object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOptions</span>(<span class="hljs-params">opts</span>) </span>{
  <span class="hljs-keyword">let</span> options = {}
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> opt <span class="hljs-keyword">in</span> defaultOptions)
    options[opt] = opts &amp;&amp; has(opts, opt) ? opts[opt] : defaultOptions[opt]

  <span class="hljs-keyword">if</span> (isArray(options.onToken)) {
    <span class="hljs-keyword">let</span> tokens = options.onToken
    options.onToken = <span class="hljs-function">(<span class="hljs-params">token</span>) =&gt;</span> tokens.push(token)
  }
  <span class="hljs-keyword">if</span> (isArray(options.onComment))
    options.onComment = pushComment(options, options.onComment)

  <span class="hljs-keyword">return</span> options
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushComment</span>(<span class="hljs-params">options, array</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">block, text, start, end, startLoc, endLoc</span>) </span>{
    <span class="hljs-keyword">let</span> comment = {
      <span class="hljs-attr">type</span>: block ? <span class="hljs-string">'Block'</span> : <span class="hljs-string">'Line'</span>,
      <span class="hljs-attr">value</span>: text,
      <span class="hljs-attr">start</span>: start,
      <span class="hljs-attr">end</span>: end
    }
    <span class="hljs-keyword">if</span> (options.locations)
      comment.loc = <span class="hljs-keyword">new</span> SourceLocation(<span class="hljs-keyword">this</span>, startLoc, endLoc)
    <span class="hljs-keyword">if</span> (options.ranges)
      comment.range = [start, end]
    array.push(comment)
  }
}


</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
