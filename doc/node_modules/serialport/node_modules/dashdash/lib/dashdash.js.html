<!DOCTYPE html>
<html>
<head>
  <title>dashdash.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/dashdash/lib/dashdash.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>dashdash.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>dashdash - A light, featureful and explicit option parsing library for
node.js.</p>
</div>
<div class="body">
</div>
</div>
vim: set ts=4 sts=4 sw=4 et:

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert-plus'</span>);
<span class="hljs-keyword">var</span> format = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>).format;
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);


<span class="hljs-keyword">var</span> DEBUG = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">if</span> (DEBUG) {
    <span class="hljs-keyword">var</span> debug = <span class="hljs-built_in">console</span>.warn;
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> debug = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};
}



</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>---- internal support stuff</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Replace {{variable}} in <code>s</code> with the template data in <code>d</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderTemplate</span>(<span class="hljs-params">s, d</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/{{([a-zA-Z]+)}}/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, key</span>) </span>{
        <span class="hljs-keyword">return</span> d.hasOwnProperty(key) ? d[key] : match;
    });
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a shallow copy of the given object;</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shallowCopy</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">if</span> (!obj) {
        <span class="hljs-keyword">return</span> (obj);
    }
    <span class="hljs-keyword">var</span> copy = {};
    <span class="hljs-built_in">Object</span>.keys(obj).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k</span>) </span>{
        copy[k] = obj[k];
    });
    <span class="hljs-keyword">return</span> (copy);
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">space</span>(<span class="hljs-params">n</span>) </span>{
    <span class="hljs-keyword">var</span> s = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
        s += <span class="hljs-string">' '</span>;
    }
    <span class="hljs-keyword">return</span> s;
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeIndent</span>(<span class="hljs-params">arg, deflen, name</span>) </span>{
    <span class="hljs-keyword">if</span> (arg === <span class="hljs-literal">null</span> || arg === <span class="hljs-literal">undefined</span>)
        <span class="hljs-keyword">return</span> space(deflen);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (arg) === <span class="hljs-string">'number'</span>)
        <span class="hljs-keyword">return</span> space(arg);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (arg) === <span class="hljs-string">'string'</span>)
        <span class="hljs-keyword">return</span> arg;
    <span class="hljs-keyword">else</span>
        assert.fail(<span class="hljs-string">'invalid "'</span> + name + <span class="hljs-string">'": not a string or number: '</span> + arg);
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return an array of lines wrapping the given text to the given width.
This splits on whitespace. Single tokens longer than <code>width</code> are not
broken up.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">textwrap</span>(<span class="hljs-params">s, width</span>) </span>{
    <span class="hljs-keyword">var</span> words = s.trim().split(<span class="hljs-regexp">/\s+/</span>);
    <span class="hljs-keyword">var</span> lines = [];
    <span class="hljs-keyword">var</span> line = <span class="hljs-string">''</span>;
    words.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">w</span>) </span>{
        <span class="hljs-keyword">var</span> newLength = line.length + w.length;
        <span class="hljs-keyword">if</span> (line.length &gt; <span class="hljs-number">0</span>)
            newLength += <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (newLength &gt; width) {
            lines.push(line);
            line = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">if</span> (line.length &gt; <span class="hljs-number">0</span>)
            line += <span class="hljs-string">' '</span>;
        line += w;
    });
    lines.push(line);
    <span class="hljs-keyword">return</span> lines;
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Transform an option name to a &quot;key&quot; that is used as the field
on the <code>opts</code> object returned from <code>&lt;parser&gt;.parse()</code>.</p>
</div>
<div class="body">
<p>Transformations:</p>
<ul>
<li>'-' -&gt; '_': This allow one to use hyphen in option names (common)
but not have to do silly things like <code>opt[&quot;dry-run&quot;]</code> to access the
parsed results.</li>
</ul>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">optionKeyFromName</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">return</span> name.replace(<span class="hljs-regexp">/-/g</span>, <span class="hljs-string">'_'</span>);
}



</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>---- Option types</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseBool</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Boolean</span>(arg);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseString</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    assert.string(arg, <span class="hljs-string">'arg'</span>);
    <span class="hljs-keyword">return</span> arg;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseNumber</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    assert.string(arg, <span class="hljs-string">'arg'</span>);
    <span class="hljs-keyword">var</span> num = <span class="hljs-built_in">Number</span>(arg);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(num)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'arg for "%s" is not a number: "%s"'</span>,
            optstr, arg));
    }
    <span class="hljs-keyword">return</span> num;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseInteger</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    assert.string(arg, <span class="hljs-string">'arg'</span>);
    <span class="hljs-keyword">var</span> num = <span class="hljs-built_in">Number</span>(arg);
    <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^[0-9-]+$/</span>.test(arg) || <span class="hljs-built_in">isNaN</span>(num)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'arg for "%s" is not an integer: "%s"'</span>,
            optstr, arg));
    }
    <span class="hljs-keyword">return</span> num;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePositiveInteger</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    assert.string(arg, <span class="hljs-string">'arg'</span>);
    <span class="hljs-keyword">var</span> num = <span class="hljs-built_in">Number</span>(arg);
    <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^[0-9]+$/</span>.test(arg) || <span class="hljs-built_in">isNaN</span>(num) || num === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'arg for "%s" is not a positive integer: "%s"'</span>,
            optstr, arg));
    }
    <span class="hljs-keyword">return</span> num;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>Supported date args:</p>
<ul>
<li>epoch second times (e.g. 1396031701)</li>
<li>ISO 8601 format: YYYY-MM-DD[THH:MM:SS[.sss][Z]]
2014-03-28T18:35:01.489Z
2014-03-28T18:35:01.489
2014-03-28T18:35:01Z
2014-03-28T18:35:01
2014-03-28</li>
</ul>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseDate</span>(<span class="hljs-params">option, optstr, arg</span>) </span>{
    assert.string(arg, <span class="hljs-string">'arg'</span>);
    <span class="hljs-keyword">var</span> date;
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d+$/</span>.test(arg)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>epoch seconds</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Number</span>(arg) * <span class="hljs-number">1000</span>);
    <span class="hljs-comment">/* JSSTYLED */</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?Z?)?$/i</span>.test(arg)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>ISO 8601 format</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(arg);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'arg for "%s" is not a valid date format: "%s"'</span>,
            optstr, arg));
    }
    <span class="hljs-keyword">if</span> (date.toString() === <span class="hljs-string">'Invalid Date'</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'arg for "%s" is an invalid date: "%s"'</span>,
            optstr, arg));
    }
    <span class="hljs-keyword">return</span> date;
}

<span class="hljs-keyword">var</span> optionTypes = {
    <span class="hljs-attr">bool</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">parseArg</span>: parseBool
    },
    <span class="hljs-attr">string</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'ARG'</span>,
        <span class="hljs-attr">parseArg</span>: parseString
    },
    <span class="hljs-attr">number</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'NUM'</span>,
        <span class="hljs-attr">parseArg</span>: parseNumber
    },
    <span class="hljs-attr">integer</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'INT'</span>,
        <span class="hljs-attr">parseArg</span>: parseInteger
    },
    <span class="hljs-attr">positiveInteger</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'INT'</span>,
        <span class="hljs-attr">parseArg</span>: parsePositiveInteger
    },
    <span class="hljs-attr">date</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'DATE'</span>,
        <span class="hljs-attr">parseArg</span>: parseDate
    },
    <span class="hljs-attr">arrayOfBool</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parseBool
    },
    <span class="hljs-attr">arrayOfString</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'ARG'</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parseString
    },
    <span class="hljs-attr">arrayOfNumber</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'NUM'</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parseNumber
    },
    <span class="hljs-attr">arrayOfInteger</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'INT'</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parseInteger
    },
    <span class="hljs-attr">arrayOfPositiveInteger</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'INT'</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parsePositiveInteger
    },
    <span class="hljs-attr">arrayOfDate</span>: {
        <span class="hljs-attr">takesArg</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">helpArg</span>: <span class="hljs-string">'INT'</span>,
        <span class="hljs-attr">array</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parseArg</span>: parseDate
    },
};



</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>---- Parser</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parser constructor.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">config</span>
<span>{Object} The parser configuration      - options {Array} Array of option specs. See the README for how to
specify each option spec.
- allowUnknown {Boolean} Default false. Whether to throw on unknown
options. If false, then unknown args are included in the _args array.
- interspersed {Boolean} Default true. Whether to allow interspersed
arguments (non-options) and options. E.g.:
node tool.js arg1 arg2 -v
'-v' is after some args here. If <code>interspersed: false</code> then '-v'
would not be parsed out. Note that regardless of <code>interspersed</code>
the presence of '--' will stop option parsing, as all good
option parsers should.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span>(<span class="hljs-params">config</span>) </span>{
    assert.object(config, <span class="hljs-string">'config'</span>);
    assert.arrayOfObject(config.options, <span class="hljs-string">'config.options'</span>);
    assert.optionalBool(config.interspersed, <span class="hljs-string">'config.interspersed'</span>);
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Allow interspersed arguments (true by default).</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">this</span>.interspersed = (config.interspersed !== <span class="hljs-literal">undefined</span>
        ? config.interspersed : <span class="hljs-literal">true</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>Don't allow unknown flags (true by default).</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">this</span>.allowUnknown = (config.allowUnknown !== <span class="hljs-literal">undefined</span>
        ? config.allowUnknown : <span class="hljs-literal">false</span>);

    <span class="hljs-keyword">this</span>.options = config.options.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{ <span class="hljs-keyword">return</span> shallowCopy(o); });
    <span class="hljs-keyword">this</span>.optionFromName = {};
    <span class="hljs-keyword">this</span>.optionFromEnv = {};
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.options.length; i++) {
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.options[i];
        <span class="hljs-keyword">if</span> (o.group !== <span class="hljs-literal">undefined</span> &amp;&amp; o.group !== <span class="hljs-literal">null</span>) {
            assert.optionalString(o.group,
                format(<span class="hljs-string">'config.options.%d.group'</span>, i));
            <span class="hljs-keyword">continue</span>;
        }
        assert.ok(optionTypes[o.type],
            format(<span class="hljs-string">'invalid config.options.%d.type: "%s" in %j'</span>,
                   i, o.type, o));
        assert.optionalString(o.name, format(<span class="hljs-string">'config.options.%d.name'</span>, i));
        assert.optionalArrayOfString(o.names,
            format(<span class="hljs-string">'config.options.%d.names'</span>, i));
        assert.ok((o.name || o.names) &amp;&amp; !(o.name &amp;&amp; o.names),
            format(<span class="hljs-string">'exactly one of "name" or "names" required: %j'</span>, o));
        assert.optionalString(o.help, format(<span class="hljs-string">'config.options.%d.help'</span>, i));
        <span class="hljs-keyword">var</span> env = o.env || [];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (env) === <span class="hljs-string">'string'</span>) {
            env = [env];
        }
        assert.optionalArrayOfString(env, format(<span class="hljs-string">'config.options.%d.env'</span>, i));
        assert.optionalString(o.helpGroup,
            format(<span class="hljs-string">'config.options.%d.helpGroup'</span>, i));
        assert.optionalBool(o.helpWrap,
            format(<span class="hljs-string">'config.options.%d.helpWrap'</span>, i));
        assert.optionalBool(o.hidden, format(<span class="hljs-string">'config.options.%d.hidden'</span>, i));

        <span class="hljs-keyword">if</span> (o.name) {
            o.names = [o.name];
        } <span class="hljs-keyword">else</span> {
            assert.string(o.names[<span class="hljs-number">0</span>],
                format(<span class="hljs-string">'config.options.%d.names is empty'</span>, i));
        }
        o.key = optionKeyFromName(o.names[<span class="hljs-number">0</span>]);
        o.names.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
            <span class="hljs-keyword">if</span> (self.optionFromName[n]) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(
                    <span class="hljs-string">'option name collision: "%s" used in %j and %j'</span>,
                    n, self.optionFromName[n], o));
            }
            self.optionFromName[n] = o;
        });
        env.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
            <span class="hljs-keyword">if</span> (self.optionFromEnv[n]) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(
                    <span class="hljs-string">'option env collision: "%s" used in %j and %j'</span>,
                    n, self.optionFromEnv[n], o));
            }
            self.optionFromEnv[n] = o;
        });
    }
}

Parser.prototype.optionTakesArg = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">optionTakesArg</span>(<span class="hljs-params">option</span>) </span>{
    <span class="hljs-keyword">return</span> optionTypes[option.type].takesArg;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse options from the given argv.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">inputs</span>
<span>{Object} Optional.      - argv {Array} Optional. The argv to parse. Defaults to
<code>process.argv</code>.
- slice {Number} The index into argv at which options/args begin.
Default is 2, as appropriate for <code>process.argv</code>.
- env {Object} Optional. The env to use for 'env' entries in the
option specs. Defaults to <code>process.env</code>.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">Parser.prototype.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">inputs</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Old API was <code>parse([argv, [slice]])</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>])) {
        inputs = {<span class="hljs-attr">argv</span>: <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>], <span class="hljs-attr">slice</span>: <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]};
    }

    assert.optionalObject(inputs, <span class="hljs-string">'inputs'</span>);
    <span class="hljs-keyword">if</span> (!inputs) {
        inputs = {};
    }
    assert.optionalArrayOfString(inputs.argv, <span class="hljs-string">'inputs.argv'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>assert.optionalNumber(slice, 'slice');</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> argv = inputs.argv || process.argv;
    <span class="hljs-keyword">var</span> slice = inputs.slice !== <span class="hljs-literal">undefined</span> ? inputs.slice : <span class="hljs-number">2</span>;
    <span class="hljs-keyword">var</span> args = argv.slice(slice);
    <span class="hljs-keyword">var</span> env = inputs.env || process.env;
    <span class="hljs-keyword">var</span> opts = {};
    <span class="hljs-keyword">var</span> _order = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOpt</span>(<span class="hljs-params">option, optstr, key, val, from</span>) </span>{
        <span class="hljs-keyword">var</span> type = optionTypes[option.type];
        <span class="hljs-keyword">var</span> parsedVal = type.parseArg(option, optstr, val);
        <span class="hljs-keyword">if</span> (type.array) {
            <span class="hljs-keyword">if</span> (!opts[key]) {
                opts[key] = [];
            }
            <span class="hljs-keyword">if</span> (type.arrayFlatten &amp;&amp; <span class="hljs-built_in">Array</span>.isArray(parsedVal)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; parsedVal.length; i++) {
                    opts[key].push(parsedVal[i]);
                }
            } <span class="hljs-keyword">else</span> {
                opts[key].push(parsedVal);
            }
        } <span class="hljs-keyword">else</span> {
            opts[key] = parsedVal;
        }
        <span class="hljs-keyword">var</span> item = { <span class="hljs-attr">key</span>: key, <span class="hljs-attr">value</span>: parsedVal, <span class="hljs-attr">from</span>: <span class="hljs-keyword">from</span> };
        _order.push(item);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>Parse args.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> _args = [];
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
    outer: <span class="hljs-keyword">while</span> (i &lt; args.length) {
        <span class="hljs-keyword">var</span> arg = args[i];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>End of options marker.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (arg === <span class="hljs-string">'--'</span>) {
            i++;
            <span class="hljs-keyword">break</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Long option</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg.slice(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) === <span class="hljs-string">'--'</span>) {
            <span class="hljs-keyword">var</span> name = arg.slice(<span class="hljs-number">2</span>);
            <span class="hljs-keyword">var</span> val = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> idx = name.indexOf(<span class="hljs-string">'='</span>);
            <span class="hljs-keyword">if</span> (idx !== <span class="hljs-number">-1</span>) {
                val = name.slice(idx + <span class="hljs-number">1</span>);
                name = name.slice(<span class="hljs-number">0</span>, idx);
            }
            <span class="hljs-keyword">var</span> option = <span class="hljs-keyword">this</span>.optionFromName[name];
            <span class="hljs-keyword">if</span> (!option) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.allowUnknown)
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'unknown option: "--%s"'</span>, name));
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.interspersed)
                    _args.push(arg);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">break</span> outer;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> takesArg = <span class="hljs-keyword">this</span>.optionTakesArg(option);
                <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">null</span> &amp;&amp; !takesArg) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'argument given to "--%s" option '</span>
                        + <span class="hljs-string">'that does not take one: "%s"'</span>, name, arg));
                }
                <span class="hljs-keyword">if</span> (!takesArg) {
                    addOpt(option, <span class="hljs-string">'--'</span>+name, option.key, <span class="hljs-literal">true</span>, <span class="hljs-string">'argv'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">null</span>) {
                    addOpt(option, <span class="hljs-string">'--'</span>+name, option.key, val, <span class="hljs-string">'argv'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &gt;= args.length) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'do not have enough args for "--%s" '</span>
                        + <span class="hljs-string">'option'</span>, name));
                } <span class="hljs-keyword">else</span> {
                    addOpt(option, <span class="hljs-string">'--'</span>+name, option.key, args[i + <span class="hljs-number">1</span>], <span class="hljs-string">'argv'</span>);
                    i++;
                }
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>Short option</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg[<span class="hljs-number">0</span>] === <span class="hljs-string">'-'</span> &amp;&amp; arg.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> j = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">var</span> allFound = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">while</span> (j &lt; arg.length) {
                <span class="hljs-keyword">var</span> name = arg[j];
                <span class="hljs-keyword">var</span> option = <span class="hljs-keyword">this</span>.optionFromName[name];
                <span class="hljs-keyword">if</span> (!option) {
                    allFound = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.allowUnknown) {
                        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.interspersed) {
                            _args.push(arg);
                            <span class="hljs-keyword">break</span>;
                        } <span class="hljs-keyword">else</span>
                            <span class="hljs-keyword">break</span> outer;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg.length &gt; <span class="hljs-number">2</span>) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(
                            <span class="hljs-string">'unknown option: "-%s" in "%s" group'</span>,
                            name, arg));
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'unknown option: "-%s"'</span>, name));
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.optionTakesArg(option)) {
                    <span class="hljs-keyword">break</span>;
                }
                j++;
            }

            j = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (allFound &amp;&amp; j &lt; arg.length) {
                <span class="hljs-keyword">var</span> name = arg[j];
                <span class="hljs-keyword">var</span> val = arg.slice(j + <span class="hljs-number">1</span>);  <span class="hljs-comment">// option val if it takes an arg</span>
                <span class="hljs-keyword">var</span> option = <span class="hljs-keyword">this</span>.optionFromName[name];
                <span class="hljs-keyword">var</span> takesArg = <span class="hljs-keyword">this</span>.optionTakesArg(option);
                <span class="hljs-keyword">if</span> (!takesArg) {
                    addOpt(option, <span class="hljs-string">'-'</span>+name, option.key, <span class="hljs-literal">true</span>, <span class="hljs-string">'argv'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val) {
                    addOpt(option, <span class="hljs-string">'-'</span>+name, option.key, val, <span class="hljs-string">'argv'</span>);
                    <span class="hljs-keyword">break</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &gt;= args.length) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(format(<span class="hljs-string">'do not have enough args '</span>
                            + <span class="hljs-string">'for "-%s" option'</span>, name));
                    }
                    addOpt(option, <span class="hljs-string">'-'</span>+name, option.key, args[i + <span class="hljs-number">1</span>], <span class="hljs-string">'argv'</span>);
                    i++;
                    <span class="hljs-keyword">break</span>;
                }
                j++;
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>An interspersed arg</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.interspersed) {
            _args.push(arg);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>An arg and interspersed args are not allowed, so done options.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">break</span> outer;
        }
        i++;
    }
    _args = _args.concat(args.slice(i));

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Parse environment.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.optionFromEnv).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">envname</span>) </span>{
        <span class="hljs-keyword">var</span> val = env[envname];
        <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">undefined</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> option = self.optionFromEnv[envname];
        <span class="hljs-keyword">if</span> (opts[option.key] !== <span class="hljs-literal">undefined</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> takesArg = self.optionTakesArg(option);
        <span class="hljs-keyword">if</span> (takesArg) {
            addOpt(option, envname, option.key, val, <span class="hljs-string">'env'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val !== <span class="hljs-string">''</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>Boolean envvar handling:</p>
<ul>
<li>VAR=<empty-string>     not set (as if the VAR was not set)</li>
<li>VAR=0                  false</li>
<li>anything else          true</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="javascript">            addOpt(option, envname, option.key, (val !== <span class="hljs-string">'0'</span>), <span class="hljs-string">'env'</span>);
        }
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>Apply default values.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">this</span>.options.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (opts[o.key] === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">if</span> (o.default !== <span class="hljs-literal">undefined</span>) {
                opts[o.key] = o.default;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (o.type &amp;&amp; optionTypes[o.type].default !== <span class="hljs-literal">undefined</span>) {
                opts[o.key] = optionTypes[o.type].default;
            }
        }
    });

    opts._order = _order;
    opts._args = _args;
    <span class="hljs-keyword">return</span> opts;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return help output for the current options.</p>
</div>
<div class="body">
<p>E.g.: if the current options are:
[{names: ['help', 'h'], type: 'bool', help: 'Show help and exit.'}]
then this would return:
'  -h, --help     Show help and exit.\n'</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">config</span>
<span>{Object} Config for controlling the option help output.      - indent {Number|String} Default 4. An indent/prefix to use for
each option line.
- nameSort {String} Default is 'length'. By default the names are
sorted to put the short opts first (i.e. '-h, --help' preferred
to '--help, -h'). Set to 'none' to not do this sorting.
- maxCol {Number} Default 80. Note that long tokens in a help string
can go past this.
- helpCol {Number} Set to specify a specific column at which
option help will be aligned. By default this is determined
automatically.
- minHelpCol {Number} Default 20.
- maxHelpCol {Number} Default 40.
- includeEnv {Boolean} Default false. If true, a note stating the <code>env</code>
envvar (if specified for this option) will be appended to the help
output.
- includeDefault {Boolean} Default false. If true, a note stating
the <code>default</code> for this option, if any, will be appended to the help
output.
- helpWrap {Boolean} Default true. Wrap help text in helpCol..maxCol
bounds.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">Parser.prototype.help = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">help</span>(<span class="hljs-params">config</span>) </span>{
    config = config || {};
    assert.object(config, <span class="hljs-string">'config'</span>);

    <span class="hljs-keyword">var</span> indent = makeIndent(config.indent, <span class="hljs-number">4</span>, <span class="hljs-string">'config.indent'</span>);
    <span class="hljs-keyword">var</span> headingIndent = makeIndent(config.headingIndent,
        <span class="hljs-built_in">Math</span>.round(indent.length / <span class="hljs-number">2</span>), <span class="hljs-string">'config.headingIndent'</span>);

    assert.optionalString(config.nameSort, <span class="hljs-string">'config.nameSort'</span>);
    <span class="hljs-keyword">var</span> nameSort = config.nameSort || <span class="hljs-string">'length'</span>;
    assert.ok(~[<span class="hljs-string">'length'</span>, <span class="hljs-string">'none'</span>].indexOf(nameSort),
        <span class="hljs-string">'invalid "config.nameSort"'</span>);
    assert.optionalNumber(config.maxCol, <span class="hljs-string">'config.maxCol'</span>);
    assert.optionalNumber(config.maxHelpCol, <span class="hljs-string">'config.maxHelpCol'</span>);
    assert.optionalNumber(config.minHelpCol, <span class="hljs-string">'config.minHelpCol'</span>);
    assert.optionalNumber(config.helpCol, <span class="hljs-string">'config.helpCol'</span>);
    assert.optionalBool(config.includeEnv, <span class="hljs-string">'config.includeEnv'</span>);
    assert.optionalBool(config.includeDefault, <span class="hljs-string">'config.includeDefault'</span>);
    assert.optionalBool(config.helpWrap, <span class="hljs-string">'config.helpWrap'</span>);
    <span class="hljs-keyword">var</span> maxCol = config.maxCol || <span class="hljs-number">80</span>;
    <span class="hljs-keyword">var</span> minHelpCol = config.minHelpCol || <span class="hljs-number">20</span>;
    <span class="hljs-keyword">var</span> maxHelpCol = config.maxHelpCol || <span class="hljs-number">40</span>;

    <span class="hljs-keyword">var</span> lines = [];
    <span class="hljs-keyword">var</span> maxWidth = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.options.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (o.hidden) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (o.group !== <span class="hljs-literal">undefined</span> &amp;&amp; o.group !== <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>We deal with groups in the next pass</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            lines.push(<span class="hljs-literal">null</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> type = optionTypes[o.type];
        <span class="hljs-keyword">var</span> arg = o.helpArg || type.helpArg || <span class="hljs-string">'ARG'</span>;
        <span class="hljs-keyword">var</span> line = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> names = o.names.slice();
        <span class="hljs-keyword">if</span> (nameSort === <span class="hljs-string">'length'</span>) {
            names.sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">if</span> (a.length &lt; b.length)
                    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (b.length &lt; a.length)
                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            })
        }
        names.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name, i</span>) </span>{
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>)
                line += <span class="hljs-string">', '</span>;
            <span class="hljs-keyword">if</span> (name.length === <span class="hljs-number">1</span>) {
                line += <span class="hljs-string">'-'</span> + name
                <span class="hljs-keyword">if</span> (type.takesArg)
                    line += <span class="hljs-string">' '</span> + arg;
            } <span class="hljs-keyword">else</span> {
                line += <span class="hljs-string">'--'</span> + name
                <span class="hljs-keyword">if</span> (type.takesArg)
                    line += <span class="hljs-string">'='</span> + arg;
            }
        });
        maxWidth = <span class="hljs-built_in">Math</span>.max(maxWidth, line.length);
        lines.push(line);
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>Add help strings.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> helpCol = config.helpCol;
    <span class="hljs-keyword">if</span> (!helpCol) {
        helpCol = maxWidth + indent.length + <span class="hljs-number">2</span>;
        helpCol = <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(helpCol, minHelpCol), maxHelpCol);
    }
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">this</span>.options.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (o.hidden) {
            <span class="hljs-keyword">return</span>;
        }
        i++;

        <span class="hljs-keyword">if</span> (o.group !== <span class="hljs-literal">undefined</span> &amp;&amp; o.group !== <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (o.group === <span class="hljs-string">''</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>Support a empty string &quot;group&quot; to have a blank line between
sets of options.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                lines[i] = <span class="hljs-string">''</span>;
            } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>Render the group heading with the heading-specific indent.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                lines[i] = (i === <span class="hljs-number">0</span> ? <span class="hljs-string">''</span> : <span class="hljs-string">'\n'</span>) + headingIndent +
                    o.group + <span class="hljs-string">':'</span>;
            }
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">var</span> helpDefault;
        <span class="hljs-keyword">if</span> (config.includeDefault) {
            <span class="hljs-keyword">if</span> (o.default !== <span class="hljs-literal">undefined</span>) {
                helpDefault = format(<span class="hljs-string">'Default: %j'</span>, o.default);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (o.type &amp;&amp; optionTypes[o.type].default !== <span class="hljs-literal">undefined</span>) {
                helpDefault = format(<span class="hljs-string">'Default: %j'</span>,
                    optionTypes[o.type].default);
            }
        }

        <span class="hljs-keyword">var</span> line = lines[i] = indent + lines[i];
        <span class="hljs-keyword">if</span> (!o.help &amp;&amp; !(config.includeEnv &amp;&amp; o.env) &amp;&amp; !helpDefault) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> n = helpCol - line.length;
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">0</span>) {
            line += space(n);
        } <span class="hljs-keyword">else</span> {
            line += <span class="hljs-string">'\n'</span> + space(helpCol);
        }

        <span class="hljs-keyword">var</span> helpEnv = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (o.env &amp;&amp; o.env.length &amp;&amp; config.includeEnv) {
            helpEnv += <span class="hljs-string">'Environment: '</span>;
            <span class="hljs-keyword">var</span> type = optionTypes[o.type];
            <span class="hljs-keyword">var</span> arg = o.helpArg || type.helpArg || <span class="hljs-string">'ARG'</span>;
            <span class="hljs-keyword">var</span> envs = (<span class="hljs-built_in">Array</span>.isArray(o.env) ? o.env : [o.env]).map(
                <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
                    <span class="hljs-keyword">if</span> (type.takesArg) {
                        <span class="hljs-keyword">return</span> e + <span class="hljs-string">'='</span> + arg;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">return</span> e + <span class="hljs-string">'=1'</span>;
                    }
                }
            );
            helpEnv += envs.join(<span class="hljs-string">', '</span>);
        }
        <span class="hljs-keyword">var</span> help = (o.help || <span class="hljs-string">''</span>).trim();
        <span class="hljs-keyword">if</span> (o.helpWrap !== <span class="hljs-literal">false</span> &amp;&amp; config.helpWrap !== <span class="hljs-literal">false</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>Wrap help description normally.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (help.length &amp;&amp; !~<span class="hljs-string">'.!?"\''</span>.indexOf(help.slice(<span class="hljs-number">-1</span>))) {
                help += <span class="hljs-string">'.'</span>;
            }
            <span class="hljs-keyword">if</span> (help.length) {
                help += <span class="hljs-string">' '</span>;
            }
            help += helpEnv;
            <span class="hljs-keyword">if</span> (helpDefault) {
                <span class="hljs-keyword">if</span> (helpEnv) {
                    help += <span class="hljs-string">'. '</span>;
                }
                help += helpDefault;
            }
            line += textwrap(help, maxCol - helpCol).join(
                <span class="hljs-string">'\n'</span> + space(helpCol));
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>Do not wrap help description, but indent newlines appropriately.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> helpLines = help.split(<span class="hljs-string">'\n'</span>).filter(
                    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ln</span>) </span>{ <span class="hljs-keyword">return</span> ln.length });
            <span class="hljs-keyword">if</span> (helpEnv !== <span class="hljs-string">''</span>) {
                helpLines.push(helpEnv);
            }
            <span class="hljs-keyword">if</span> (helpDefault) {
                helpLines.push(helpDefault);
            }
            line += helpLines.join(<span class="hljs-string">'\n'</span> + space(helpCol));
        }

        lines[i] = line;
    });

    <span class="hljs-keyword">var</span> rv = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (lines.length &gt; <span class="hljs-number">0</span>) {
        rv = lines.join(<span class="hljs-string">'\n'</span>) + <span class="hljs-string">'\n'</span>;
    }
    <span class="hljs-keyword">return</span> rv;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string suitable for a Bash completion file for this tool.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.name</span>
<span>{String} The tool name.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.specExtra</span>
<span>{String} Optional. Extra Bash code content to add      to the end of the &quot;spec&quot;. Typically this is used to append Bash
&quot;complete_TYPE&quot; functions for custom option types. See
&quot;examples/ddcompletion.js&quot; for an example.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.argtypes</span>
<span>{Array} Optional. Array of completion types for      positional args (i.e. non-options). E.g.
argtypes = ['fruit', 'veggie', 'file']
will result in completion of fruits for the first arg, veggies for the
second, and filenames for the third and subsequent positional args.
If not given, positional args will use Bash's 'default' completion.
See <code>specExtra</code> for providing Bash <code>complete_TYPE</code> functions, e.g.
<code>complete_fruit</code> and <code>complete_veggie</code> in this example.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">Parser.prototype.bashCompletion = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bashCompletion</span>(<span class="hljs-params">args</span>) </span>{
    assert.object(args, <span class="hljs-string">'args'</span>);
    assert.string(args.name, <span class="hljs-string">'args.name'</span>);
    assert.optionalString(args.specExtra, <span class="hljs-string">'args.specExtra'</span>);
    assert.optionalArrayOfString(args.argtypes, <span class="hljs-string">'args.argtypes'</span>);

    <span class="hljs-keyword">return</span> bashCompletionFromOptions({
        <span class="hljs-attr">name</span>: args.name,
        <span class="hljs-attr">specExtra</span>: args.specExtra,
        <span class="hljs-attr">argtypes</span>: args.argtypes,
        <span class="hljs-attr">options</span>: <span class="hljs-keyword">this</span>.options
    });
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>---- Bash completion</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">const</span> BASH_COMPLETION_TEMPLATE_PATH = path.join(
    __dirname, <span class="hljs-string">'../etc/dashdash.bash_completion.in'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return the Bash completion &quot;spec&quot; (the string value for the &quot;{{spec}}&quot;
var in the &quot;dashdash.bash_completion.in&quot; template) for this tool.</p>
</div>
<div class="body">
<p>The &quot;spec&quot; is Bash code that defines the CLI options and subcmds for
the template's completion code. It looks something like this:</p>
<pre><code> local cmd_shortopts=&quot;-J ...&quot;
 local cmd_longopts=&quot;--help ...&quot;
 local cmd_optargs=&quot;-p=tritonprofile ...&quot;</code></pre>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.options</span>
<span>{Array} The array of dashdash option specs.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.context</span>
<span>{String} Optional. A context string for the &quot;local cmd*&quot;      vars in the spec. By default it is the empty string. When used to
scope for completion on a <em>sub-command</em> (e.g. for &quot;git log&quot; on a &quot;git&quot;
tool), then it would have a value (e.g. &quot;__log&quot;). See
<a href="http://github.com/trentm/node-cmdln">http://github.com/trentm/node-cmdln</a> Bash completion for details.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">opts.includeHidden</span>
<span>{Boolean} Optional. Default false. By default      hidden options and subcmds are &quot;excluded&quot;. Here excluded means they
won't be offered as a completion, but if used, their argument type
will be completed. &quot;Hidden&quot; options and subcmds are ones with the
<code>hidden: true</code> attribute to exclude them from default help output.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.argtypes</span>
<span>{Array} Optional. Array of completion types for      positional args (i.e. non-options). E.g.
argtypes = ['fruit', 'veggie', 'file']
will result in completion of fruits for the first arg, veggies for the
second, and filenames for the third and subsequent positional args.
If not given, positional args will use Bash's 'default' completion.
See <code>specExtra</code> for providing Bash <code>complete_TYPE</code> functions, e.g.
<code>complete_fruit</code> and <code>complete_veggie</code> in this example.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bashCompletionSpecFromOptions</span>(<span class="hljs-params">args</span>) </span>{
    assert.object(args, <span class="hljs-string">'args'</span>);
    assert.object(args.options, <span class="hljs-string">'args.options'</span>);
    assert.optionalString(args.context, <span class="hljs-string">'args.context'</span>);
    assert.optionalBool(args.includeHidden, <span class="hljs-string">'args.includeHidden'</span>);
    assert.optionalArrayOfString(args.argtypes, <span class="hljs-string">'args.argtypes'</span>);

    <span class="hljs-keyword">var</span> context = args.context || <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> includeHidden = (args.includeHidden === <span class="hljs-literal">undefined</span>
        ? <span class="hljs-literal">false</span> : args.includeHidden);

    <span class="hljs-keyword">var</span> spec = [];
    <span class="hljs-keyword">var</span> shortopts = [];
    <span class="hljs-keyword">var</span> longopts = [];
    <span class="hljs-keyword">var</span> optargs = [];
    (args.options || []).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (o.group !== <span class="hljs-literal">undefined</span> &amp;&amp; o.group !== <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>Skip group headers.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">var</span> optNames = o.names || [o.name];
        <span class="hljs-keyword">var</span> optType = getOptionType(o.type);
        <span class="hljs-keyword">if</span> (optType.takesArg) {
            <span class="hljs-keyword">var</span> completionType = o.completionType ||
                optType.completionType || o.type;
            optNames.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">optName</span>) </span>{
                <span class="hljs-keyword">if</span> (optName.length === <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">if</span> (includeHidden || !o.hidden) {
                        shortopts.push(<span class="hljs-string">'-'</span> + optName);
                    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>Include even hidden options in <code>optargs</code> so that bash
completion of its arg still works.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    optargs.push(<span class="hljs-string">'-'</span> + optName + <span class="hljs-string">'='</span> + completionType);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (includeHidden || !o.hidden) {
                        longopts.push(<span class="hljs-string">'--'</span> + optName);
                    }
                    optargs.push(<span class="hljs-string">'--'</span> + optName + <span class="hljs-string">'='</span> + completionType);
                }
            });
        } <span class="hljs-keyword">else</span> {
            optNames.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">optName</span>) </span>{
                <span class="hljs-keyword">if</span> (includeHidden || !o.hidden) {
                    <span class="hljs-keyword">if</span> (optName.length === <span class="hljs-number">1</span>) {
                        shortopts.push(<span class="hljs-string">'-'</span> + optName);
                    } <span class="hljs-keyword">else</span> {
                        longopts.push(<span class="hljs-string">'--'</span> + optName);
                    }
                }
            });
        }
    });

    spec.push(format(<span class="hljs-string">'local cmd%s_shortopts="%s"'</span>,
        context, shortopts.sort().join(<span class="hljs-string">' '</span>)));
    spec.push(format(<span class="hljs-string">'local cmd%s_longopts="%s"'</span>,
        context, longopts.sort().join(<span class="hljs-string">' '</span>)));
    spec.push(format(<span class="hljs-string">'local cmd%s_optargs="%s"'</span>,
        context, optargs.sort().join(<span class="hljs-string">' '</span>)));
    <span class="hljs-keyword">if</span> (args.argtypes) {
        spec.push(format(<span class="hljs-string">'local cmd%s_argtypes="%s"'</span>,
            context, args.argtypes.join(<span class="hljs-string">' '</span>)));
    }
    <span class="hljs-keyword">return</span> spec.join(<span class="hljs-string">'\n'</span>);
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string suitable for a Bash completion file for this tool.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.name</span>
<span>{String} The tool name.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.options</span>
<span>{Array} The array of dashdash option specs.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.specExtra</span>
<span>{String} Optional. Extra Bash code content to add      to the end of the &quot;spec&quot;. Typically this is used to append Bash
&quot;complete_TYPE&quot; functions for custom option types. See
&quot;examples/ddcompletion.js&quot; for an example.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args.argtypes</span>
<span>{Array} Optional. Array of completion types for      positional args (i.e. non-options). E.g.
argtypes = ['fruit', 'veggie', 'file']
will result in completion of fruits for the first arg, veggies for the
second, and filenames for the third and subsequent positional args.
If not given, positional args will use Bash's 'default' completion.
See <code>specExtra</code> for providing Bash <code>complete_TYPE</code> functions, e.g.
<code>complete_fruit</code> and <code>complete_veggie</code> in this example.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bashCompletionFromOptions</span>(<span class="hljs-params">args</span>) </span>{
    assert.object(args, <span class="hljs-string">'args'</span>);
    assert.object(args.options, <span class="hljs-string">'args.options'</span>);
    assert.string(args.name, <span class="hljs-string">'args.name'</span>);
    assert.optionalString(args.specExtra, <span class="hljs-string">'args.specExtra'</span>);
    assert.optionalArrayOfString(args.argtypes, <span class="hljs-string">'args.argtypes'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>Gather template data.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> data = {
        <span class="hljs-attr">name</span>: args.name,
        <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),
        <span class="hljs-attr">spec</span>: bashCompletionSpecFromOptions({
            <span class="hljs-attr">options</span>: args.options,
            <span class="hljs-attr">argtypes</span>: args.argtypes
        }),
    };
    <span class="hljs-keyword">if</span> (args.specExtra) {
        data.spec += <span class="hljs-string">'\n\n'</span> + args.specExtra;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>Render template.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> template = fs.readFileSync(BASH_COMPLETION_TEMPLATE_PATH, <span class="hljs-string">'utf8'</span>);
    <span class="hljs-keyword">return</span> renderTemplate(template, data);
}



</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>---- exports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createParser</span>(<span class="hljs-params">config</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Parser(config);
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse argv with the given options.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">config</span>
<span>{Object} A merge of all the available fields from      <code>dashdash.Parser</code> and <code>dashdash.Parser.parse</code>: options, interspersed,
argv, env, slice.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">config</span>) </span>{
    assert.object(config, <span class="hljs-string">'config'</span>);
    assert.optionalArrayOfString(config.argv, <span class="hljs-string">'config.argv'</span>);
    assert.optionalObject(config.env, <span class="hljs-string">'config.env'</span>);
    <span class="hljs-keyword">var</span> config = shallowCopy(config);
    <span class="hljs-keyword">var</span> argv = config.argv;
    <span class="hljs-keyword">delete</span> config.argv;
    <span class="hljs-keyword">var</span> env = config.env;
    <span class="hljs-keyword">delete</span> config.env;

    <span class="hljs-keyword">var</span> parser = <span class="hljs-keyword">new</span> Parser(config);
    <span class="hljs-keyword">return</span> parser.parse({<span class="hljs-attr">argv</span>: argv, <span class="hljs-attr">env</span>: env});
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<div class="dox">
<div class="summary">
<p>Add a new option type.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOptionType</span>(<span class="hljs-params">optionType</span>) </span>{
    assert.object(optionType, <span class="hljs-string">'optionType'</span>);
    assert.string(optionType.name, <span class="hljs-string">'optionType.name'</span>);
    assert.bool(optionType.takesArg, <span class="hljs-string">'optionType.takesArg'</span>);
    <span class="hljs-keyword">if</span> (optionType.takesArg) {
        assert.string(optionType.helpArg, <span class="hljs-string">'optionType.helpArg'</span>);
    }
    assert.func(optionType.parseArg, <span class="hljs-string">'optionType.parseArg'</span>);
    assert.optionalBool(optionType.array, <span class="hljs-string">'optionType.array'</span>);
    assert.optionalBool(optionType.arrayFlatten, <span class="hljs-string">'optionType.arrayFlatten'</span>);

    optionTypes[optionType.name] = {
        <span class="hljs-attr">takesArg</span>: optionType.takesArg,
        <span class="hljs-attr">helpArg</span>: optionType.helpArg,
        <span class="hljs-attr">parseArg</span>: optionType.parseArg,
        <span class="hljs-attr">array</span>: optionType.array,
        <span class="hljs-attr">arrayFlatten</span>: optionType.arrayFlatten,
        <span class="hljs-attr">default</span>: optionType.default
    }
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOptionType</span>(<span class="hljs-params">name</span>) </span>{
    assert.string(name, <span class="hljs-string">'name'</span>);
    <span class="hljs-keyword">return</span> optionTypes[name];
}


<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">createParser</span>: createParser,
    <span class="hljs-attr">Parser</span>: Parser,
    <span class="hljs-attr">parse</span>: parse,
    <span class="hljs-attr">addOptionType</span>: addOptionType,
    <span class="hljs-attr">getOptionType</span>: getOptionType,

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>Bash completion-related exports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    BASH_COMPLETION_TEMPLATE_PATH: BASH_COMPLETION_TEMPLATE_PATH,
    <span class="hljs-attr">bashCompletionFromOptions</span>: bashCompletionFromOptions,
    <span class="hljs-attr">bashCompletionSpecFromOptions</span>: bashCompletionSpecFromOptions,

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>Export the parseFoo parsers because they might be useful as primitives
for custom option types.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    parseBool: parseBool,
    <span class="hljs-attr">parseString</span>: parseString,
    <span class="hljs-attr">parseNumber</span>: parseNumber,
    <span class="hljs-attr">parseInteger</span>: parseInteger,
    <span class="hljs-attr">parsePositiveInteger</span>: parsePositiveInteger,
    <span class="hljs-attr">parseDate</span>: parseDate
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
