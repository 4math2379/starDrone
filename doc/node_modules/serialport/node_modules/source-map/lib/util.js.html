<!DOCTYPE html>
<html>
<head>
  <title>util.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/source-map/lib/util.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>util.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Copyright 2011 Mozilla Foundation and contributors
Licensed under the New BSD license. See LICENSE or:
http://opensource.org/licenses/BSD-3-Clause</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>This is a helper function for getting values from parameter/options
objects.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span>The object we are extracting values from
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span>The name of the property we are getting.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">defaultValue</span>
<span>An optional value to return if the property is missing from the object. If this is not specified and the property is missing, an
error will be thrown.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getArg</span>(<span class="hljs-params">aArgs, aName, aDefaultValue</span>) </span>{
    <span class="hljs-keyword">if</span> (aName <span class="hljs-keyword">in</span> aArgs) {
      <span class="hljs-keyword">return</span> aArgs[aName];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">3</span>) {
      <span class="hljs-keyword">return</span> aDefaultValue;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + aName + <span class="hljs-string">'" is a required argument.'</span>);
    }
  }
  exports.getArg = getArg;

  <span class="hljs-keyword">var</span> urlRegexp = <span class="hljs-regexp">/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/</span>;
  <span class="hljs-keyword">var</span> dataUrlRegexp = <span class="hljs-regexp">/^data:.+\,.+$/</span>;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">urlParse</span>(<span class="hljs-params">aUrl</span>) </span>{
    <span class="hljs-keyword">var</span> match = aUrl.match(urlRegexp);
    <span class="hljs-keyword">if</span> (!match) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">scheme</span>: match[<span class="hljs-number">1</span>],
      <span class="hljs-attr">auth</span>: match[<span class="hljs-number">2</span>],
      <span class="hljs-attr">host</span>: match[<span class="hljs-number">3</span>],
      <span class="hljs-attr">port</span>: match[<span class="hljs-number">4</span>],
      <span class="hljs-attr">path</span>: match[<span class="hljs-number">5</span>]
    };
  }
  exports.urlParse = urlParse;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">urlGenerate</span>(<span class="hljs-params">aParsedUrl</span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (aParsedUrl.scheme) {
      url += aParsedUrl.scheme + <span class="hljs-string">':'</span>;
    }
    url += <span class="hljs-string">'//'</span>;
    <span class="hljs-keyword">if</span> (aParsedUrl.auth) {
      url += aParsedUrl.auth + <span class="hljs-string">'@'</span>;
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.host) {
      url += aParsedUrl.host;
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.port) {
      url += <span class="hljs-string">":"</span> + aParsedUrl.port
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.path) {
      url += aParsedUrl.path;
    }
    <span class="hljs-keyword">return</span> url;
  }
  exports.urlGenerate = urlGenerate;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Normalizes a path, or the path portion of a URL:</p>
</div>
<div class="body">
<ul>
<li>Replaces consequtive slashes with one slash.</li>
<li>Removes unnecessary '.' parts.</li>
<li>Removes unnecessary '<dir>/..' parts.</li>
</ul>
<p>Based on code in the Node.js 'path' core module.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">aPath</span>
<span>The path or url to normalize.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span>(<span class="hljs-params">aPath</span>) </span>{
    <span class="hljs-keyword">var</span> path = aPath;
    <span class="hljs-keyword">var</span> url = urlParse(aPath);
    <span class="hljs-keyword">if</span> (url) {
      <span class="hljs-keyword">if</span> (!url.path) {
        <span class="hljs-keyword">return</span> aPath;
      }
      path = url.path;
    }
    <span class="hljs-keyword">var</span> isAbsolute = exports.isAbsolute(path);

    <span class="hljs-keyword">var</span> parts = path.split(<span class="hljs-regexp">/\/+/</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> part, up = <span class="hljs-number">0</span>, i = parts.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
      part = parts[i];
      <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'.'</span>) {
        parts.splice(i, <span class="hljs-number">1</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'..'</span>) {
        up++;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (up &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (part === <span class="hljs-string">''</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>The first part is blank if the path is absolute. Trying to go
above the root is a no-op. Therefore we can remove all '..' parts
directly after the root.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          parts.splice(i + <span class="hljs-number">1</span>, up);
          up = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
          parts.splice(i, <span class="hljs-number">2</span>);
          up--;
        }
      }
    }
    path = parts.join(<span class="hljs-string">'/'</span>);

    <span class="hljs-keyword">if</span> (path === <span class="hljs-string">''</span>) {
      path = isAbsolute ? <span class="hljs-string">'/'</span> : <span class="hljs-string">'.'</span>;
    }

    <span class="hljs-keyword">if</span> (url) {
      url.path = path;
      <span class="hljs-keyword">return</span> urlGenerate(url);
    }
    <span class="hljs-keyword">return</span> path;
  }
  exports.normalize = normalize;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Joins two paths/URLs.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">aRoot</span>
<span>The root path or URL.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">aPath</span>
<span>The path or URL to be joined with the root.
<ul>
<li>If aPath is a URL or a data URI, aPath is returned, unless aPath is a
scheme-relative URL: Then the scheme of aRoot, if any, is prepended
first.</li>
<li>Otherwise aPath is a path. If aRoot is a URL, then its path portion
is updated with the result and aRoot is returned. Otherwise the result
is returned.
<ul>
<li>If aPath is absolute, the result is aPath.</li>
<li>Otherwise the two paths are joined with a slash.</li>
</ul>
</li>
<li>Joining for example 'http://' and 'www.example.com' is also supported.</li>
</ul>
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span>(<span class="hljs-params">aRoot, aPath</span>) </span>{
    <span class="hljs-keyword">if</span> (aRoot === <span class="hljs-string">""</span>) {
      aRoot = <span class="hljs-string">"."</span>;
    }
    <span class="hljs-keyword">if</span> (aPath === <span class="hljs-string">""</span>) {
      aPath = <span class="hljs-string">"."</span>;
    }
    <span class="hljs-keyword">var</span> aPathUrl = urlParse(aPath);
    <span class="hljs-keyword">var</span> aRootUrl = urlParse(aRoot);
    <span class="hljs-keyword">if</span> (aRootUrl) {
      aRoot = aRootUrl.path || <span class="hljs-string">'/'</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p><code>join(foo, '//www.example.org')</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (aPathUrl &amp;&amp; !aPathUrl.scheme) {
      <span class="hljs-keyword">if</span> (aRootUrl) {
        aPathUrl.scheme = aRootUrl.scheme;
      }
      <span class="hljs-keyword">return</span> urlGenerate(aPathUrl);
    }

    <span class="hljs-keyword">if</span> (aPathUrl || aPath.match(dataUrlRegexp)) {
      <span class="hljs-keyword">return</span> aPath;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p><code>join('http://', 'www.example.com')</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (aRootUrl &amp;&amp; !aRootUrl.host &amp;&amp; !aRootUrl.path) {
      aRootUrl.host = aPath;
      <span class="hljs-keyword">return</span> urlGenerate(aRootUrl);
    }

    <span class="hljs-keyword">var</span> joined = aPath.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span>
      ? aPath
      : normalize(aRoot.replace(<span class="hljs-regexp">/\/+$/</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'/'</span> + aPath);

    <span class="hljs-keyword">if</span> (aRootUrl) {
      aRootUrl.path = joined;
      <span class="hljs-keyword">return</span> urlGenerate(aRootUrl);
    }
    <span class="hljs-keyword">return</span> joined;
  }
  exports.join = join;

  exports.isAbsolute = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">aPath</span>) </span>{
    <span class="hljs-keyword">return</span> aPath.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span> || !!aPath.match(urlRegexp);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>Make a path relative to a URL or another path.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">aRoot</span>
<span>The root path or URL.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">aPath</span>
<span>The path or URL to be made relative to aRoot.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">relative</span>(<span class="hljs-params">aRoot, aPath</span>) </span>{
    <span class="hljs-keyword">if</span> (aRoot === <span class="hljs-string">""</span>) {
      aRoot = <span class="hljs-string">"."</span>;
    }

    aRoot = aRoot.replace(<span class="hljs-regexp">/\/$/</span>, <span class="hljs-string">''</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>It is possible for the path to be above the root. In this case, simply
checking whether the root is a prefix of the path won't work. Instead, we
need to remove components from the root one by one, until either we find
a prefix that fits, or we run out of components to remove.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> level = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (aPath.indexOf(aRoot + <span class="hljs-string">'/'</span>) !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">var</span> index = aRoot.lastIndexOf(<span class="hljs-string">"/"</span>);
      <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> aPath;
      }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>If the only part of the root that is left is the scheme (i.e. http://,
file:///, etc.), one or more slashes (/), or simply nothing at all, we
have exhausted all components, so the path is not relative to the root.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      aRoot = aRoot.slice(<span class="hljs-number">0</span>, index);
      <span class="hljs-keyword">if</span> (aRoot.match(<span class="hljs-regexp">/^([^\/]+:\/)?\/*$/</span>)) {
        <span class="hljs-keyword">return</span> aPath;
      }

      ++level;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Make sure we add a &quot;../&quot; for each component we removed from the root.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>(level + <span class="hljs-number">1</span>).join(<span class="hljs-string">"../"</span>) + aPath.substr(aRoot.length + <span class="hljs-number">1</span>);
  }
  exports.relative = relative;

  <span class="hljs-keyword">var</span> supportsNullProto = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">return</span> !(<span class="hljs-string">'__proto__'</span> <span class="hljs-keyword">in</span> obj);
  }());

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>Because behavior goes wacky when you set <code>__proto__</code> on objects, we
have to prefix all the strings in our set with an arbitrary character.</p>
</div>
<div class="body">
<p>See https://github.com/mozilla/source-map/pull/31 and
https://github.com/mozilla/source-map/issues/30</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">String</span>
<span>aStr
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toSetString</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">if</span> (isProtoString(aStr)) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">'$'</span> + aStr;
    }

    <span class="hljs-keyword">return</span> aStr;
  }
  exports.toSetString = supportsNullProto ? identity : toSetString;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromSetString</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">if</span> (isProtoString(aStr)) {
      <span class="hljs-keyword">return</span> aStr.slice(<span class="hljs-number">1</span>);
    }

    <span class="hljs-keyword">return</span> aStr;
  }
  exports.fromSetString = supportsNullProto ? identity : fromSetString;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isProtoString</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">if</span> (!s) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">var</span> length = s.length;

    <span class="hljs-keyword">if</span> (length &lt; <span class="hljs-number">9</span> <span class="hljs-comment">/* "__proto__".length */</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">if</span> (s.charCodeAt(length - <span class="hljs-number">1</span>) !== <span class="hljs-number">95</span>  <span class="hljs-comment">/* '_' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">2</span>) !== <span class="hljs-number">95</span>  <span class="hljs-comment">/* '_' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">3</span>) !== <span class="hljs-number">111</span> <span class="hljs-comment">/* 'o' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">4</span>) !== <span class="hljs-number">116</span> <span class="hljs-comment">/* 't' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">5</span>) !== <span class="hljs-number">111</span> <span class="hljs-comment">/* 'o' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">6</span>) !== <span class="hljs-number">114</span> <span class="hljs-comment">/* 'r' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">7</span>) !== <span class="hljs-number">112</span> <span class="hljs-comment">/* 'p' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">8</span>) !== <span class="hljs-number">95</span>  <span class="hljs-comment">/* '_' */</span> ||
        s.charCodeAt(length - <span class="hljs-number">9</span>) !== <span class="hljs-number">95</span>  <span class="hljs-comment">/* '_' */</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = length - <span class="hljs-number">10</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
      <span class="hljs-keyword">if</span> (s.charCodeAt(i) !== <span class="hljs-number">36</span> <span class="hljs-comment">/* '$' */</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identity</span> (<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>Comparator between two mappings where the original positions are compared.</p>
</div>
<div class="body">
<p>Optionally pass in <code>true</code> as <code>onlyCompareGenerated</code> to consider two
mappings with the same original source/line/column, but different generated
line and column the same. Useful when searching for a mapping with a
stubbed out mapping.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareByOriginalPositions</span>(<span class="hljs-params">mappingA, mappingB, onlyCompareOriginal</span>) </span>{
    <span class="hljs-keyword">var</span> cmp = mappingA.source - mappingB.source;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span> || onlyCompareOriginal) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    <span class="hljs-keyword">return</span> mappingA.name - mappingB.name;
  }
  exports.compareByOriginalPositions = compareByOriginalPositions;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Comparator between two mappings with deflated source and name indices where
the generated positions are compared.</p>
</div>
<div class="body">
<p>Optionally pass in <code>true</code> as <code>onlyCompareGenerated</code> to consider two
mappings with the same generated line and column, but different
source/name/original line and column the same. Useful when searching for a
mapping with a stubbed out mapping.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareByGeneratedPositionsDeflated</span>(<span class="hljs-params">mappingA, mappingB, onlyCompareGenerated</span>) </span>{
    <span class="hljs-keyword">var</span> cmp = mappingA.generatedLine - mappingB.generatedLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span> || onlyCompareGenerated) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.source - mappingB.source;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    <span class="hljs-keyword">return</span> mappingA.name - mappingB.name;
  }
  exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">strcmp</span>(<span class="hljs-params">aStr1, aStr2</span>) </span>{
    <span class="hljs-keyword">if</span> (aStr1 === aStr2) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-keyword">if</span> (aStr1 &gt; aStr2) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>Comparator between two mappings with inflated source and name strings where
the generated positions are compared.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareByGeneratedPositionsInflated</span>(<span class="hljs-params">mappingA, mappingB</span>) </span>{
    <span class="hljs-keyword">var</span> cmp = mappingA.generatedLine - mappingB.generatedLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = strcmp(mappingA.source, mappingB.source);
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    <span class="hljs-keyword">if</span> (cmp !== <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> cmp;
    }

    <span class="hljs-keyword">return</span> strcmp(mappingA.name, mappingB.name);
  }
  exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
