<!DOCTYPE html>
<html>
<head>
  <title>array-set.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "node_modules/serialport/node_modules/source-map/lib/array-set.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>array-set.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Copyright 2011 Mozilla Foundation and contributors
Licensed under the New BSD license. See LICENSE or:
http://opensource.org/licenses/BSD-3-Clause</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">{
  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);
  <span class="hljs-keyword">var</span> has = <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>A data structure which is a combination of an array and a set. Adding a new
member is O(1), testing for membership is O(1), and finding the index of an
element is O(1). Removing elements from the set is not supported. Only
strings are supported for membership.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>._array = [];
    <span class="hljs-keyword">this</span>._set = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Static method for creating ArraySet instances from an existing array.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.fromArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_fromArray</span>(<span class="hljs-params">aArray, aAllowDuplicates</span>) </span>{
    <span class="hljs-keyword">var</span> set = <span class="hljs-keyword">new</span> ArraySet();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = aArray.length; i &lt; len; i++) {
      set.add(aArray[i], aAllowDuplicates);
    }
    <span class="hljs-keyword">return</span> set;
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return how many unique items are in this ArraySet. If duplicates have been
added, than those do not count towards the size.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.size = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_size</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.getOwnPropertyNames(<span class="hljs-keyword">this</span>._set).length;
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Add the given string to this set.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">String</span>
<span>aStr
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_add</span>(<span class="hljs-params">aStr, aAllowDuplicates</span>) </span>{
    <span class="hljs-keyword">var</span> sStr = util.toSetString(aStr);
    <span class="hljs-keyword">var</span> isDuplicate = has.call(<span class="hljs-keyword">this</span>._set, sStr);
    <span class="hljs-keyword">var</span> idx = <span class="hljs-keyword">this</span>._array.length;
    <span class="hljs-keyword">if</span> (!isDuplicate || aAllowDuplicates) {
      <span class="hljs-keyword">this</span>._array.push(aStr);
    }
    <span class="hljs-keyword">if</span> (!isDuplicate) {
      <span class="hljs-keyword">this</span>._set[sStr] = idx;
    }
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Is the given string a member of this set?</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">String</span>
<span>aStr
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.has = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_has</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">var</span> sStr = util.toSetString(aStr);
    <span class="hljs-keyword">return</span> has.call(<span class="hljs-keyword">this</span>._set, sStr);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>What is the index of the given string in the array?</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">String</span>
<span>aStr
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.indexOf = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_indexOf</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">var</span> sStr = util.toSetString(aStr);
    <span class="hljs-keyword">if</span> (has.call(<span class="hljs-keyword">this</span>._set, sStr)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._set[sStr];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + aStr + <span class="hljs-string">'" is not in the set.'</span>);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>What is the element at the given index?</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">Number</span>
<span>aIdx
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.at = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_at</span>(<span class="hljs-params">aIdx</span>) </span>{
    <span class="hljs-keyword">if</span> (aIdx &gt;= <span class="hljs-number">0</span> &amp;&amp; aIdx &lt; <span class="hljs-keyword">this</span>._array.length) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._array[aIdx];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'No element indexed by '</span> + aIdx);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>Returns the array representation of this set (which has the proper indices
indicated by indexOf). Note that this is a copy of the internal array used
for storing the members so that no one can mess with internal state.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  ArraySet.prototype.toArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_toArray</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._array.slice();
  };

  exports.ArraySet = ArraySet;
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
