<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "node_modules/serialport/node_modules/gauge/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#gauge">gauge</a>
      </div>

      <div class="heading h3">
        <a href="#var-gauge-new-gauge-options-ansistream">var gauge = new Gauge([options], [ansiStream])</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.show-name-completed">gauge.show([name, [completed]])</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.hide">gauge.hide()</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.pulse-name">gauge.pulse([name])</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.disable">gauge.disable()</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.enable">gauge.enable()</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.settheme-theme">gauge.setTheme(theme)</a>
      </div>

      <div class="heading h3">
        <a href="#gauge.settemplate-template">gauge.setTemplate(template)</a>
      </div>

      <div class="heading h3">
        <a href="#theme-objects">Theme Objects</a>
      </div>

      <div class="heading h3">
        <a href="#template-objects">Template Objects</a>
      </div>

      <div class="heading h3">
        <a href="#tracking-completion">Tracking Completion</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="gauge">
  <h1>
    <a href="#gauge" name="gauge" class="pilcrow"></a>
gauge
  </h1>
</div>
<p>A nearly stateless terminal based horizontal gauge / progress bar.</p>
<pre><code class="javascript"><span class="hljs-keyword">var</span> Gauge = <span class="hljs-built_in">require</span>(<span class="hljs-string">"gauge"</span>)

<span class="hljs-keyword">var</span> gauge = <span class="hljs-keyword">new</span> Gauge()

gauge.show(<span class="hljs-string">"test"</span>, <span class="hljs-number">0.20</span>)

gauge.pulse(<span class="hljs-string">"this"</span>)

gauge.hide()
</code></pre>
<p><img src="example.png" alt=""></p>
<div class="pilwrap" id="var-gauge-new-gauge-options-ansistream">
  <h3>
    <a href="#var-gauge-new-gauge-options-ansistream" name="var-gauge-new-gauge-options-ansistream" class="pilcrow"></a>
<code>var gauge = new Gauge([options], [ansiStream])</code>
  </h3>
</div>
<ul>
<li><strong>options</strong> – <em>(optional)</em> An option object. (See <a href="#theme-objects.html">below</a> for details.)</li>
<li><strong>ansiStream</strong> – <em>(optional)</em> A stream that's been blessed by the <a href="https://www.npmjs.com/package/ansi">ansi</a>
module to include various commands for controlling the cursor in a terminal.</li>
</ul>
<p>Constructs a new gauge. Gauges are drawn on a single line, and are not drawn
if the current terminal isn't a tty.</p>
<p>If you resize your terminal in a way that can be detected then the gauge
will be drawn at the new size. As a general rule, growing your terminal will
be clean, but shrinking your terminal will result in cruft as we don't have
enough information to know where what we wrote previously is now located.</p>
<p>The <strong>options</strong> object can have the following properties, all of which are
optional:</p>
<ul>
<li>maxUpdateFrequency: defaults to 50 msec, the gauge will not be drawn more
than once in this period of time. This applies to <code>show</code> and <code>pulse</code>
calls, but if you <code>hide</code> and then <code>show</code> the gauge it will draw it
regardless of time since last draw.</li>
<li>theme: defaults to Gauge.unicode<code>if the terminal supports unicode according to [has-unicode], otherwise it defaults to</code>Gauge.ascii`.
Details on the <a href="#theme-objects.html">theme object</a> are documented elsewhere.</li>
<li>template: see <a href="#template-objects.html">documentation elsewhere</a> for
defaults and details.</li>
</ul>
<p>If <strong>ansiStream</strong> isn't passed in, then one will be constructed from stderr
with <code>ansi(process.stderr)</code>.</p>
<div class="pilwrap" id="gauge.show-name-completed">
  <h3>
    <a href="#gauge.show-name-completed" name="gauge.show-name-completed" class="pilcrow"></a>
<code>gauge.show([name, [completed]])</code>
  </h3>
</div>
<ul>
<li><strong>name</strong> – <em>(optional)</em> The name of the current thing contributing to progress. Defaults to the last value used, or &quot;&quot;.</li>
<li><strong>completed</strong> – <em>(optional)</em> The portion completed as a value between 0 and 1. Defaults to the last value used, or 0.</li>
</ul>
<p>If <code>process.stdout.isTTY</code> is false then this does nothing. If completed is 0
and <code>gauge.pulse</code> has never been called, then similarly nothing will be printed.</p>
<p>If <code>maxUpdateFrequency</code> msec haven't passed since the last call to <code>show</code> or
<code>pulse</code> then similarly, nothing will be printed.  (Actually, the update is
deferred until <code>maxUpdateFrequency</code> msec have passed and if nothing else has
happened, the gauge update will happen.)</p>
<div class="pilwrap" id="gauge.hide">
  <h3>
    <a href="#gauge.hide" name="gauge.hide" class="pilcrow"></a>
<code>gauge.hide()</code>
  </h3>
</div>
<p>Removes the gauge from the terminal.</p>
<div class="pilwrap" id="gauge.pulse-name">
  <h3>
    <a href="#gauge.pulse-name" name="gauge.pulse-name" class="pilcrow"></a>
<code>gauge.pulse([name])</code>
  </h3>
</div>
<ul>
<li><strong>name</strong> – <em>(optional)</em> The specific thing that triggered this pulse</li>
</ul>
<p>Spins the spinner in the gauge to show output. If <strong>name</strong> is included then
it will be combined with the last name passed to <code>gauge.show</code> using the
subsection property of the theme (typically a right facing arrow).</p>
<div class="pilwrap" id="gauge.disable">
  <h3>
    <a href="#gauge.disable" name="gauge.disable" class="pilcrow"></a>
<code>gauge.disable()</code>
  </h3>
</div>
<p>Hides the gauge and ignores further calls to <code>show</code> or <code>pulse</code>.</p>
<div class="pilwrap" id="gauge.enable">
  <h3>
    <a href="#gauge.enable" name="gauge.enable" class="pilcrow"></a>
<code>gauge.enable()</code>
  </h3>
</div>
<p>Shows the gauge and resumes updating when <code>show</code> or <code>pulse</code> is called.</p>
<div class="pilwrap" id="gauge.settheme-theme">
  <h3>
    <a href="#gauge.settheme-theme" name="gauge.settheme-theme" class="pilcrow"></a>
<code>gauge.setTheme(theme)</code>
  </h3>
</div>
<p>Change the active theme, will be displayed with the next show or pulse</p>
<div class="pilwrap" id="gauge.settemplate-template">
  <h3>
    <a href="#gauge.settemplate-template" name="gauge.settemplate-template" class="pilcrow"></a>
<code>gauge.setTemplate(template)</code>
  </h3>
</div>
<p>Change the active template, will be displayed with the next show or pulse</p>
<div class="pilwrap" id="theme-objects">
  <h3>
    <a href="#theme-objects" name="theme-objects" class="pilcrow"></a>
Theme Objects
  </h3>
</div>
<p>There are two theme objects available as a part of the module, <code>Gauge.unicode</code> and <code>Gauge.ascii</code>.
Theme objects have the follow properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Unicode</th>
<th>ASCII</th>
</tr>
</thead>
<tbody>
<tr>
<td>startgroup</td>
<td>╢</td>
<td>|</td>
</tr>
<tr>
<td>endgroup</td>
<td>╟</td>
<td>|</td>
</tr>
<tr>
<td>complete</td>
<td>█</td>
<td>#</td>
</tr>
<tr>
<td>incomplete</td>
<td>░</td>
<td>-</td>
</tr>
<tr>
<td>spinner</td>
<td>▀▐▄▌</td>
<td>-\|/</td>
</tr>
<tr>
<td>subsection</td>
<td>→</td>
<td>-&gt;</td>
</tr>
</tbody>
</table>
<p><em>startgroup</em>, <em>endgroup</em> and <em>subsection</em> can be as many characters as you want.</p>
<p><em>complete</em> and <em>incomplete</em> should be a single character width each.</p>
<p><em>spinner</em> is a list of characters to use in turn when displaying an activity
spinner.  The Gauge will spin as many characters as you give here.</p>
<div class="pilwrap" id="template-objects">
  <h3>
    <a href="#template-objects" name="template-objects" class="pilcrow"></a>
Template Objects
  </h3>
</div>
<p>A template is an array of objects and strings that, after being evaluated,
will be turned into the gauge line.  The default template is:</p>
<pre><code class="javascript">[
    {<span class="hljs-attr">type</span>: <span class="hljs-string">"name"</span>, <span class="hljs-attr">separated</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">maxLength</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">minLength</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">align</span>: <span class="hljs-string">"left"</span>},
    {<span class="hljs-attr">type</span>: <span class="hljs-string">"spinner"</span>, <span class="hljs-attr">separated</span>: <span class="hljs-literal">true</span>},
    {<span class="hljs-attr">type</span>: <span class="hljs-string">"startgroup"</span>},
    {<span class="hljs-attr">type</span>: <span class="hljs-string">"completionbar"</span>},
    {<span class="hljs-attr">type</span>: <span class="hljs-string">"endgroup"</span>}
]
</code></pre>
<p>The various template elements can either be <strong>plain strings</strong>, in which case they will
be be included verbatum in the output.</p>
<p>If the template element is an object, it can have the following keys:</p>
<ul>
<li><em>type</em> can be:
<ul>
<li><code>name</code> – The most recent name passed to <code>show</code>; if this is in response to a
<code>pulse</code> then the name passed to <code>pulse</code> will be appended along with the
subsection property from the theme.</li>
<li><code>spinner</code> – If you've ever called <code>pulse</code> this will be one of the characters
from the spinner property of the theme.</li>
<li><code>startgroup</code> – The <code>startgroup</code> property from the theme.</li>
<li><code>completionbar</code> – This progress bar itself</li>
<li><code>endgroup</code> – The <code>endgroup</code> property from the theme.</li>
</ul>
</li>
<li><em>separated</em> – If true, the element will be separated with spaces from things on
either side (and margins count as space, so it won't be indented), but only
if its included.</li>
<li><em>maxLength</em> – The maximum length for this element. If its value is longer it
will be truncated.</li>
<li><em>minLength</em> – The minimum length for this element. If its value is shorter it
will be padded according to the <em>align</em> value.</li>
<li><em>align</em> – (Default: left) Possible values &quot;left&quot;, &quot;right&quot; and &quot;center&quot;. Works
as you'd expect from word processors.</li>
<li><em>length</em> – Provides a single value for both <em>minLength</em> and <em>maxLength</em>. If both
<em>length</em> and *minLength or <em>maxLength</em> are specifed then the latter take precedence.</li>
</ul>
<div class="pilwrap" id="tracking-completion">
  <h3>
    <a href="#tracking-completion" name="tracking-completion" class="pilcrow"></a>
Tracking Completion
  </h3>
</div>
<p>If you have more than one thing going on that you want to track completion
of, you may find the related <a href="https://www.npmjs.com/package/are-we-there-yet">are-we-there-yet</a> helpful.  It's <code>change</code>
event can be wired up to the <code>show</code> method to get a more traditional
progress bar interface.</p>
</div>
  </div>
</body>
</html>
