<!DOCTYPE html>
<html>
<head>
  <title>stringFormatTest.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "node_modules/sf/test/stringFormatTest.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>stringFormatTest.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> sf = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../'</span>);
<span class="hljs-keyword">var</span> timezoneJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'timezone-js'</span>);
timezoneJS.timezone.loadingScheme = timezoneJS.timezone.loadingSchemes.MANUAL_LOAD;
timezoneJS.timezone.loadZoneDataFromObject({
  <span class="hljs-attr">zones</span>: {
    <span class="hljs-string">"Etc/UTC"</span>: [
      [<span class="hljs-string">"0"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"UTC"</span>]
    ]
  }
});


<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-string">'integer location'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0}b{1}c{0}"</span>, <span class="hljs-number">154</span>, <span class="hljs-number">298</span>);
    test.equals(result, <span class="hljs-string">'a154b298c154'</span>);
    test.done();
  },

  <span class="hljs-string">'json location'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a}b{b}c{a}"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> });
    test.equals(result, <span class="hljs-string">'a1b2c1'</span>);
    test.done();
  },

  <span class="hljs-string">'nested location'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a.b.c}b"</span>, {<span class="hljs-attr">a</span>: {<span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>: <span class="hljs-string">'test'</span>}}});
    test.equals(result, <span class="hljs-string">'atestb'</span>);
    test.done();
  },

  <span class="hljs-string">'nested location using brackets'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a['b']['c']}b"</span>, {<span class="hljs-attr">a</span>: {<span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>: <span class="hljs-string">'test'</span>}}});
    test.equals(result, <span class="hljs-string">'atestb'</span>);
    test.done();
  },

  <span class="hljs-string">'nested location (undefined)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a.z.c}b"</span>, {<span class="hljs-attr">a</span>: {<span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>: <span class="hljs-string">'test'</span>}}});
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
      test.equals(<span class="hljs-string">"Cannot read property \'c\' of undefined"</span>, ex.message);
    }
    test.done();
  },

  <span class="hljs-string">'nested location (undefined, safe ok)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a.?b.?c}b"</span>, {<span class="hljs-attr">a</span>: {<span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>: <span class="hljs-string">'test'</span>}}});
    test.equals(result, <span class="hljs-string">'atestb'</span>);
    test.done();
  },

  <span class="hljs-string">'nested location (undefined, safe fail)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a.?z.?c}b"</span>, {<span class="hljs-attr">a</span>: {<span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>: <span class="hljs-string">'test'</span>}}});
    test.equals(result, <span class="hljs-string">'ab'</span>);
    test.done();
  },

  <span class="hljs-string">'array index location'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a[1]}b"</span>, {<span class="hljs-attr">a</span>: [ <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span> ]});
    test.equals(result, <span class="hljs-string">'a2b'</span>);
    test.done();
  },

  <span class="hljs-string">'array of arrays index location'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a[1][2]}b"</span>, {<span class="hljs-attr">a</span>: [ <span class="hljs-string">'1'</span>, [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>] ]});
    test.equals(result, <span class="hljs-string">'acb'</span>);
    test.done();
  },

  <span class="hljs-string">'array index location (negative)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a[-1]}b"</span>, {<span class="hljs-attr">a</span>: [ <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span> ]});
    test.equals(result, <span class="hljs-string">'a3b'</span>);
    test.done();
  },

  <span class="hljs-string">'array index location (out of bounds)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{a[3].c}b"</span>, {<span class="hljs-attr">a</span>: [ <span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span> ]});
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
      test.equals(<span class="hljs-string">"Cannot read property \'c\' of undefined"</span>, ex.message);
    }
    test.done();
  },

  <span class="hljs-string">'align left'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0,-10}b"</span>, <span class="hljs-string">'test'</span>);
    test.equals(result, <span class="hljs-string">'atest      b'</span>);
    test.done();
  },

  <span class="hljs-string">'align right'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0,10}b"</span>, <span class="hljs-string">'test'</span>);
    test.equals(result, <span class="hljs-string">'a      testb'</span>);
    test.done();
  },

  <span class="hljs-string">'align with number format'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0,10:#,###}b"</span>, <span class="hljs-number">5000</span>);
    test.equals(result, <span class="hljs-string">'a     5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'12 hour format midnight'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:hhtt}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
    test.equals(result, <span class="hljs-string">'a12AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'12 hour format noon'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:hhtt}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
    test.equals(result, <span class="hljs-string">'a12PMb'</span>);
    test.done();
  },

  <span class="hljs-string">'align with date format'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0,20:yyyy-MM-dd'T'HH:mm:ss}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
    test.equals(result, <span class="hljs-string">'a 2012-02-02T03:04:05b'</span>);
    test.done();
  },

  <span class="hljs-string">'bunched together date formatting'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:yyyyMMddHHmmss}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
    test.equals(result, <span class="hljs-string">'a20120202030405b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (comma)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###}b"</span>, <span class="hljs-number">5000</span>);
    test.equals(result, <span class="hljs-string">'a5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (negative)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###}b"</span>, <span class="hljs-number">-5000</span>);
    test.equals(result, <span class="hljs-string">'a-5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (positive)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:+#,###}b"</span>, <span class="hljs-number">5000</span>);
    test.equals(result, <span class="hljs-string">'a+5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (positive, negative number)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:+#,###}b"</span>, <span class="hljs-number">-5000</span>);
    test.equals(result, <span class="hljs-string">'a-5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (decimal)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###.00}b"</span>, <span class="hljs-number">-5000</span>);
    test.equals(result, <span class="hljs-string">'a-5,000.00b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (decimal, overflow)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###.00}b"</span>, <span class="hljs-number">-5000.123</span>);
    test.equals(result, <span class="hljs-string">'a-5,000.12b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (decimal, optional)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###.##}b"</span>, <span class="hljs-number">-5000</span>);
    test.equals(result, <span class="hljs-string">'a-5,000b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (decimal, optional overflow)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#,###.##}b"</span>, <span class="hljs-number">-5000.123</span>);
    test.equals(result, <span class="hljs-string">'a-5,000.12b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (hex)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:x}b"</span>, <span class="hljs-number">500</span>);
    test.equals(result, <span class="hljs-string">'a1f4b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (hex upper)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:X}b"</span>, <span class="hljs-number">500</span>);
    test.equals(result, <span class="hljs-string">'a1F4b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (hex, length)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:x4}b"</span>, <span class="hljs-number">500</span>);
    test.equals(result, <span class="hljs-string">'a01f4b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (hex upper, length)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:X4}b"</span>, <span class="hljs-number">500</span>);
    test.equals(result, <span class="hljs-string">'a01F4b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (zero)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0}b"</span>, <span class="hljs-number">0</span>);
    test.equals(result, <span class="hljs-string">'a0b'</span>);
    test.done();
  },

  <span class="hljs-string">'number format (zero, just number placeholder)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:#}b"</span>, <span class="hljs-number">0</span>);
    test.equals(result, <span class="hljs-string">'a0b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Short date)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:sd}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2/2/2012b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Long date)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:D}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebruary 02, 2012b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Short time)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:t}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a03:04 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Long time)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:T}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a03:04:05 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Full date &amp; time)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:fdt}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebruary 02, 2012 03:04 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Full date &amp; time (long))'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:F}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebruary 02, 2012 03:04:05 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Default date &amp; time)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:g}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2/2/2012 03:04 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Default date &amp; time (long))'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:G}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2/2/2012 03:04:05 AMb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Month day pattern)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:md}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebruary 02b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (RFC1123 date string)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:r}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'aThu, 02 Feb 2012 03:04:05 +0000b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Sortable date string)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:s}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2012-02-02:03:04:05b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (single digit date)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:d}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (multidigit date)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:dd}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a02b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (Short day of week)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:ddd}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aThub'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (long day of week)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:dddd}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aThursdayb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (millis 1)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:f}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">129</span>));
    test.equals(result, <span class="hljs-string">'a1b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (millis 2)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:ff}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">129</span>));
    test.equals(result, <span class="hljs-string">'a12b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (millis 3)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:fff}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">129</span>));
    test.equals(result, <span class="hljs-string">'a129b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (hours 12 hour format 1)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:h}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a1b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (hours 12 hour format 2)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:hh}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a01b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (hours 24 hour format 1)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:H}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a13b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (hours 24 hour format 2)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:HH}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a13b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (minutes)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:mm}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a04b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (month 1)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:M}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (month 2)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:MM}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a02b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (month short)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:MMM}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (month long)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:MMMM}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aFebruaryb'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (seconds)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:ss}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a05b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (year 2)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:yy}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a12b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (year 4)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:yyyy}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'a2012b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (timezone)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:zz}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'a00b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (timezone +)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:+zz}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'a+00b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (whole timezone)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:zzz}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'a00:00b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (rfc 822/1123 timezone)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:+zzzz}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'a+0000b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (whole timezone no colon)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:zzzz}b"</span>, <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>));
    test.equals(result, <span class="hljs-string">'a0000b'</span>);
    test.done();
  },

  <span class="hljs-string">'date format (bad format)'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:aaa}b"</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>));
    test.equals(result, <span class="hljs-string">'aaaab'</span>);
    test.done();
  },

  <span class="hljs-string">'string with bad format spec'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      sf(<span class="hljs-string">"a{0:aaa}b"</span>, <span class="hljs-string">'a'</span>);
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
    }
    test.done();
  },

  <span class="hljs-string">'object with inspect'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:inspect}b"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">c</span>: { <span class="hljs-attr">d</span>: { <span class="hljs-attr">e</span>: { <span class="hljs-attr">f</span>: <span class="hljs-string">'down'</span> }}} });
    test.equals(result, <span class="hljs-string">'a{ a: 1, b: \'test\', c: { d: { e: [Object] } } }b'</span>);
    test.done();
  },

  <span class="hljs-string">'object with json'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:json}b"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">c</span>: { <span class="hljs-attr">d</span>: { <span class="hljs-attr">e</span>: { <span class="hljs-attr">f</span>: <span class="hljs-string">'down'</span> }}} });
    test.equals(result, <span class="hljs-string">'a{"a":1,"b":"test","c":{"d":{"e":{"f":"down"}}}}b'</span>);
    test.done();
  },

  <span class="hljs-string">'object with indent'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"{0:indent}"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">'test'</span>, <span class="hljs-attr">c</span>: { <span class="hljs-attr">d</span>: { <span class="hljs-attr">e</span>: { <span class="hljs-attr">f</span>: <span class="hljs-string">'down'</span> }}}, <span class="hljs-attr">d</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">e</span>: <span class="hljs-keyword">new</span> timezoneJS.Date(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'Etc/UTC'</span>) });
    test.equals(result, <span class="hljs-string">'a: 1\nb: test\nc:\n  d:\n    e:\n      f: down\nd: true\ne: Thu, 02 Feb 2012 03:04:05 +0000'</span>);
    test.done();
  },

  <span class="hljs-string">'object with buffer with indent'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"{0:indent}"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-keyword">new</span> Buffer([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) });
    test.equals(result, <span class="hljs-string">'a: Buffer[1, 2, 3] (length: 3)'</span>);
    test.done();
  },

  <span class="hljs-string">'object with long buffer with indent'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"{0:indent}"</span>, { <span class="hljs-attr">a</span>: <span class="hljs-keyword">new</span> Buffer([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]) });
    test.equals(result, <span class="hljs-string">'a: Buffer[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...] (length: 12)'</span>);
    test.done();
  },

  <span class="hljs-string">'unterminated sub'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      sf(<span class="hljs-string">"a{0"</span>, <span class="hljs-number">4</span>);
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
    }
    test.done();
  },

  <span class="hljs-string">'unescaped substitution'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      sf(<span class="hljs-string">"a}b"</span>, <span class="hljs-number">4</span>);
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
    }
    test.done();
  },

  <span class="hljs-string">'escaped sub'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{{0}}b"</span>, <span class="hljs-number">6</span>);
    test.equals(result, <span class="hljs-string">'a{0}b'</span>);
    test.done();
  },

  <span class="hljs-string">'sub at end'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      sf(<span class="hljs-string">"a{"</span>, <span class="hljs-number">4</span>);
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
      test.equals(<span class="hljs-string">"Unterminated substitution"</span>, ex.message);
    }
    test.done();
  },

  <span class="hljs-string">'close sub at end'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">try</span> {
      sf(<span class="hljs-string">"a}"</span>, <span class="hljs-number">4</span>);
      test.fail(<span class="hljs-string">"should throw"</span>);
    } <span class="hljs-keyword">catch</span> (ex) {
      test.equals(<span class="hljs-string">"Unescaped substitution"</span>, ex.message);
    }
    test.done();
  },

  <span class="hljs-string">'errors'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> err = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Test error"</span>);
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0}b"</span>, err);
    test.ok(result.indexOf(<span class="hljs-string">'Error: Test error'</span>) == <span class="hljs-number">1</span>, <span class="hljs-string">'Could not find or bad location of "Error: Test error"\n\n'</span> + result + <span class="hljs-string">'\n\n'</span>);
    test.ok(result.indexOf(<span class="hljs-string">'stringFormatTest'</span>) &gt; <span class="hljs-number">0</span>, <span class="hljs-string">'Could not find or bad location of "stringFormatTest"\n\n'</span> + result + <span class="hljs-string">'\n\n'</span>);
    test.done();
  },

  <span class="hljs-string">'errors just the message'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">var</span> err = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Test error"</span>);
    <span class="hljs-keyword">var</span> result = sf(<span class="hljs-string">"a{0:message}b"</span>, err);
    test.equals(result, <span class="hljs-string">'aTest errorb'</span>);
    test.done();
  },

  <span class="hljs-string">'console functions'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test</span>) </span>{
    sf.log(<span class="hljs-string">'test {0}'</span>, <span class="hljs-string">'test'</span>);
    sf.info(<span class="hljs-string">'test {0}'</span>, <span class="hljs-string">'test'</span>);
    sf.warn(<span class="hljs-string">'test {0}'</span>, <span class="hljs-string">'test'</span>);
    sf.error(<span class="hljs-string">'test {0}'</span>, <span class="hljs-string">'test'</span>);
    test.done();
  }
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
