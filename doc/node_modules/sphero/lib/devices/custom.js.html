<!DOCTYPE html>
<html>
<head>
  <title>custom.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "node_modules/sphero/lib/devices/custom.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>custom.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">"use strict"</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>&quot;custom&quot; Sphero commands.</p>
<p>These usually remix or pre-process arguments for existing methods.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> colors = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../colors"</span>),
    utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../utils"</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>regular expression to match hex strings</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> hexRegex = <span class="hljs-regexp">/^[A-Fa-f0-9]{6}$/m</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Converts a hex color number to RGB values</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">num</span>
<span class="dox_type">Number</span>
<span>color value to convert
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Object</span>
<span>RGB color values
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hexToRgb</span>(<span class="hljs-params">num</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">red</span>: (num &gt;&gt; <span class="hljs-number">16</span> &amp; <span class="hljs-number">0xff</span>),
    <span class="hljs-attr">green</span>: (num &gt;&gt; <span class="hljs-number">8</span> &amp; <span class="hljs-number">0xff</span>),
    <span class="hljs-attr">blue</span>: num &amp; <span class="hljs-number">0xff</span>
  };
}

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom</span>(<span class="hljs-params">device</span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mergeMasks</span>(<span class="hljs-params">id, mask, remove</span>) </span>{
    <span class="hljs-keyword">if</span> (remove) {
      mask = utils.xor32bit(mask);
      <span class="hljs-keyword">return</span> device.ds[id] &amp; mask;
    }

    <span class="hljs-keyword">return</span> device.ds[id] | mask;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Generic Data Streaming setup, using Sphero's setDataStraming command.</p>
</div>
<div class="body">
<p>Users need to listen for the <code>dataStreaming</code> event, or a custom event, to
get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">args</span>
<span class="dox_type">Object</span>
<span>event, masks, fields, and sps data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>options for streaming data</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> opts = {
      <span class="hljs-attr">n</span>: <span class="hljs-built_in">Math</span>.round(<span class="hljs-number">400</span> / (args.sps || <span class="hljs-number">2</span>)),
      <span class="hljs-attr">m</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">mask1</span>: mergeMasks(<span class="hljs-string">"mask1"</span>, args.mask1, args.remove),
      <span class="hljs-attr">pcnt</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">mask2</span>: mergeMasks(<span class="hljs-string">"mask2"</span>, args.mask2, args.remove)
    };

    device.on(<span class="hljs-string">"dataStreaming"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
      <span class="hljs-keyword">var</span> params = {};

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; args.fields.length; i++) {
        params[args.fields[i]] = data[args.fields[i]];
      }

      device.emit(args.event, params);
    });

    device.setDataStreaming(opts);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Color command wraps Sphero's built-in setRgb command, allowing for
a greater range of possible inputs.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">color</span>
<span class="dox_type">Number</span>
<span class="dox_type">String</span>
<span class="dox_type">Object</span>
<span>what color to change Sphero to
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.color = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color, callback</span>) </span>{
    <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">typeof</span> color) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">"number"</span>:
        color = hexToRgb(color);
        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">"string"</span>:
        <span class="hljs-keyword">if</span> (colors[color]) {
          color = hexToRgb(colors[color]);
          <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">if</span> (color[<span class="hljs-number">0</span>] === <span class="hljs-string">"#"</span>) {
          color = color.slice(<span class="hljs-number">1</span>);
        }

        <span class="hljs-keyword">if</span> (hexRegex.test(color)) {
          <span class="hljs-keyword">var</span> matches = hexRegex.exec(color);
          color = hexToRgb(<span class="hljs-built_in">parseInt</span>(matches[<span class="hljs-number">0</span>], <span class="hljs-number">16</span>));
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>passed some weird value, just use white</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"invalid color provided"</span>, color);
          color = hexToRgb(<span class="hljs-number">0xFFFFFF</span>);
        }

        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">"object"</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>upgrade shorthand properties</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        [<span class="hljs-string">"red"</span>, <span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hue</span>) </span>{
          <span class="hljs-keyword">var</span> h = hue[<span class="hljs-number">0</span>];

          <span class="hljs-keyword">if</span> (color[h] &amp;&amp; <span class="hljs-keyword">typeof</span> color[hue] === <span class="hljs-string">"undefined"</span>) {
            color[hue] = color[h];
          }
        });

        <span class="hljs-keyword">break</span>;
    }

    device.setRgbLed(color, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Random Color command sets Sphero to a randomly-generated color.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>(err, data) to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.randomColor = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    device.setRgbLed(utils.randomColor(), callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Passes the color of the sphero Rgb LED to the callback (err, data)</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.getColor = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    device.getRgbLed(callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Detect Collisions command sets up Sphero's collision detection system,
and automatically parses asynchronous packets to re-emit collision events
to 'collision' event listeners.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>(err, data) to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.detectCollisions = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    device.configureCollisions({
      <span class="hljs-attr">meth</span>: <span class="hljs-number">0x01</span>,
      <span class="hljs-attr">xt</span>: <span class="hljs-number">0x40</span>,
      <span class="hljs-attr">yt</span>: <span class="hljs-number">0x40</span>,
      <span class="hljs-attr">xs</span>: <span class="hljs-number">0x50</span>,
      <span class="hljs-attr">ys</span>: <span class="hljs-number">0x50</span>,
      <span class="hljs-attr">dead</span>: <span class="hljs-number">0x50</span>
    }, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Start Calibration command sets up Sphero for manual heading
calibration.</p>
</div>
<div class="body">
<p>It does this by turning on the tail light (so you can tell where it's
facing) and disabling stabilization (so you can adjust the heading).</p>
<p>When done, call #finishCalibration to set the new heading, and re-enable
stabilization.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>(err, data) to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.startCalibration = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    device.setBackLed(<span class="hljs-number">127</span>);
    device.setStabilization(<span class="hljs-number">0</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Finish Calibration command ends Sphero's calibration mode, by setting
the new heading as current, turning off the back LED, and re-enabling
stabilization.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with response
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.finishCalibration = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    device.setHeading(<span class="hljs-number">0</span>);
    device.setBackLed(<span class="hljs-number">0</span>);
    device.setStabilization(<span class="hljs-number">1</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of odometer data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>odometer</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamOdometer = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"odometer"</span>,
      <span class="hljs-attr">mask2</span>: <span class="hljs-number">0x0C000000</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"xOdometer"</span>, <span class="hljs-string">"yOdometer"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of velocity data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>velocity</code> event to get the velocity values.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamVelocity = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"velocity"</span>,
      <span class="hljs-attr">mask2</span>: <span class="hljs-number">0x01800000</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"xVelocity"</span>, <span class="hljs-string">"yVelocity"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of accelOne data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>accelOne</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamAccelOne = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"accelOne"</span>,
      <span class="hljs-attr">mask2</span>: <span class="hljs-number">0x02000000</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"accelOne"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of IMU angles data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>imuAngles</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamImuAngles = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"imuAngles"</span>,
      <span class="hljs-attr">mask1</span>: <span class="hljs-number">0x00070000</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"pitchAngle"</span>, <span class="hljs-string">"rollAngle"</span>, <span class="hljs-string">"yawAngle"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of accelerometer data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>accelerometer</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamAccelerometer = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"accelerometer"</span>,
      <span class="hljs-attr">mask1</span>: <span class="hljs-number">0x0000E000</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"xAccel"</span>, <span class="hljs-string">"yAccel"</span>, <span class="hljs-string">"zAccel"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of gyroscope data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>gyroscope</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamGyroscope = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"gyroscope"</span>,
      <span class="hljs-attr">mask1</span>: <span class="hljs-number">0x00001C00</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"xGyro"</span>, <span class="hljs-string">"yGyro"</span>, <span class="hljs-string">"zGyro"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>Starts streaming of motor back EMF data</p>
</div>
<div class="body">
<p>It uses sphero's data streaming command. User needs to listen
for the <code>dataStreaming</code> or <code>motorsBackEmf</code> event to get the data.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[sps=5]</span>
<span class="dox_type">Number</span>
<span>samples per second
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>forces velocity streaming to stop
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.streamMotorsBackEmf = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sps, remove</span>) </span>{
    device.streamData({
      <span class="hljs-attr">event</span>: <span class="hljs-string">"motorsBackEmf"</span>,
      <span class="hljs-attr">mask1</span>: <span class="hljs-number">0x00000060</span>,
      <span class="hljs-attr">fields</span>: [<span class="hljs-string">"rMotorBackEmf"</span>, <span class="hljs-string">"lMotorBackEmf"</span>],
      <span class="hljs-attr">sps</span>: sps,
      <span class="hljs-attr">remove</span>: remove
    });
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Stop On Disconnect command sends a flag to Sphero. This flag tells
Sphero whether or not it should automatically stop when it detects
that it's disconnected.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[remove=false]</span>
<span class="dox_type">Boolean</span>
<span>whether or not to stop on disconnect
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>triggered on complete
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.stopOnDisconnect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">remove, callback</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> remove === <span class="hljs-string">"function"</span>) {
      callback = remove;
      remove = <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">var</span> bitmask = (remove) ? <span class="hljs-number">0x00</span> : <span class="hljs-number">0x01</span>;

    device.setTempOptionFlags(bitmask, callback);
  };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<div class="dox">
<div class="summary">
<p>Stops sphero the optimal way by setting flag 'go' to 0
and speed to a very low value.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>triggered on complete
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.stop = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    <span class="hljs-keyword">this</span>.roll(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, callback);
  };
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
