<!DOCTYPE html>
<html>
<head>
  <title>core.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "node_modules/sphero/lib/devices/core.js";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>core.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">"use strict"</span>;

<span class="hljs-keyword">var</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../utils"</span>),
    commands = <span class="hljs-built_in">require</span>(<span class="hljs-string">"../commands/core"</span>);

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">core</span>(<span class="hljs-params">device</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Core Virtual Device Address = 0x00</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> command = device.command.bind(device, <span class="hljs-number">0x00</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Ping command verifies the Sphero is awake and receiving commands.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>triggered when Sphero has been pinged
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.ping = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.ping, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Version command returns a batch of software and hardware information
about Sphero.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>triggered with version information
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.version = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.version, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Control UART Tx command enables or disables the CPU's UART transmit
line so another client can configure the Bluetooth module.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered after write
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.controlUartTx = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.controlUARTTx, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Set Device Name command assigns Sphero an internal name. This value is
then produced as part of the Get Bluetooth Info command.</p>
</div>
<div class="body">
<p>Names are clipped at 48 characters to support UTF-8 sequences. Any extra
characters will be discarded.</p>
<p>This field defaults to the Bluetooth advertising name of Sphero.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">name</span>
<span class="dox_type">String</span>
<span>what name to give to the Sphero
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when the name is set
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.setDeviceName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, callback</span>) </span>{
    <span class="hljs-keyword">var</span> data = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; name.length; ++i) {
      data[i] = name.charCodeAt(i);
    }

    command(commands.setDeviceName, data, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Triggers the callback with a structure containing</p>
</div>
<div class="body">
<ul>
<li>Sphero's ASCII name</li>
<li>Sphero's Bluetooth address (ASCII)</li>
<li>Sphero's ID colors</li>
</ul>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with Bluetooth info
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.getBluetoothInfo = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.getBtInfo, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Set Auto Reconnect command tells Sphero's BT module whether or not it
should automatically reconnect to the previously-connected Apple mobile
device.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flag</span>
<span class="dox_type">Number</span>
<span>whether or not to reconnect (0 - no, 1 - yes)
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">time</span>
<span class="dox_type">Number</span>
<span>how many seconds after start to enable auto reconnect
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered after write
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.setAutoReconnect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag, time, callback</span>) </span>{
    command(commands.setAutoReconnect, [flag, time], callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Get Auto Reconnect command returns the Bluetooth auto reconnect values
as defined above in the Set Auto Reconnect command.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with reconnect data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.getAutoReconnect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.getAutoReconnect, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Get Power State command returns Sphero's current power state, and some
additional parameters:</p>
</div>
<div class="body">
<ul>
<li><strong>RecVer</strong>: record version code (following is for 0x01)</li>
<li><strong>Power State</strong>: high-level state of the power system</li>
<li><strong>BattVoltage</strong>: current battery voltage, scaled in 100ths of a volt
(e.g. 0x02EF would be 7.51 volts)</li>
<li><strong>NumCharges</strong>: Number of battery recharges in the life of this Sphero</li>
<li><strong>TimeSinceChg</strong>: Seconds awake since last recharge</li>
</ul>
<p>Possible power states:</p>
<ul>
<li>0x01 - Battery Charging</li>
<li>0x02 - Battery OK</li>
<li>0x03 - Battery Low</li>
<li>0x04 - Battery Critical</li>
</ul>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with power state data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.getPowerState = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.getPwrState, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Set Power Notification command enables sphero to asynchronously notify
the user of power state periodically (or immediately, when a change occurs)</p>
</div>
<div class="body">
<p>Timed notifications are sent every 10 seconds, until they're disabled or
Sphero is unpaired.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">flag</span>
<span class="dox_type">Number</span>
<span>whether or not to send notifications (0 - no, 1 - yes)
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.setPowerNotification = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag, callback</span>) </span>{
    command(commands.setPwrNotify, [flag], callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Sleep command puts Sphero to sleep immediately.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">wakeup</span>
<span class="dox_type">Number</span>
<span>the number of seconds for Sphero to re-awaken after. 0x00 tells Sphero to sleep forever, 0xFFFF attemps to put Sphero into deep
sleep.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">macro</span>
<span class="dox_type">Number</span>
<span>if non-zero, Sphero will attempt to run this macro ID when it wakes up
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">orbBasic</span>
<span class="dox_type">Number</span>
<span>if non-zero, Sphero will attempt to run an orbBasic program from this line number
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.sleep = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">wakeup, macro, orbBasic, callback</span>) </span>{
    wakeup = utils.intToHexArray(wakeup, <span class="hljs-number">2</span>);
    orbBasic = utils.intToHexArray(orbBasic, <span class="hljs-number">2</span>);

    <span class="hljs-keyword">var</span> data = [].concat(wakeup, macro, orbBasic);

    command(commands.sleep, data, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Get Voltage Trip Points command returns the trip points Sphero uses to
determine Low battery and Critical battery.</p>
</div>
<div class="body">
<p>The values are expressed in 100ths of a volt, so defaults of 7V and 6.5V
respectively are returned as 700 and 650.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with trip point data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.getVoltageTripPoints = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.getPowerTrips, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Set Voltage Trip Points command assigns the voltage trip points for Low
and Critical battery voltages.</p>
</div>
<div class="body">
<p>Values are specified in 100ths of a volt, and there are limitations on
adjusting these from their defaults:</p>
<ul>
<li>vLow must be in the range 675-725</li>
<li>vCrit must be in the range 625-675</li>
</ul>
<p>There must be 0.25v of separation between the values.</p>
<p>Shifting these values too low can result in very little warning before
Sphero forces itself to sleep, depending on the battery pack. Be careful.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">vLow</span>
<span class="dox_type">Number</span>
<span>new voltage trigger for Low battery
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">vCrit</span>
<span class="dox_type">Number</span>
<span>new voltage trigger for Crit battery
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.setVoltageTripPoints = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vLow, vCrit, callback</span>) </span>{
    vLow = utils.intToHexArray(vLow, <span class="hljs-number">2</span>);
    vCrit = utils.intToHexArray(vCrit, <span class="hljs-number">2</span>);

    <span class="hljs-keyword">var</span> data = [].concat(vLow, vCrit);

    command(commands.setPowerTrips, data, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Set Inactivity Timeout command sets the timeout delay before Sphero
goes to sleep automatically.</p>
</div>
<div class="body">
<p>By default, the value is 600 seconds (10 minutes), but this command can
alter it to any value of 60 seconds or greater.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">time</span>
<span class="dox_type">Number</span>
<span>new delay before sleeping
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.setInactivityTimeout = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">time, callback</span>) </span>{
    <span class="hljs-keyword">var</span> data = utils.intToHexArray(time, <span class="hljs-number">2</span>);
    command(commands.setInactiveTimer, data, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Jump To Bootloader command requests a jump into the Bootloader to
prepare for a firmware download.</p>
</div>
<div class="body">
<p>All commands after this one must comply with the Bootloader Protocol
Specification.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.jumpToBootloader = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.goToBl, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Perform Level 1 Diagnostics command is a developer-level command to
help diagnose aberrant behaviour in Sphero.</p>
</div>
<div class="body">
<p>Most process flags, system counters, and system states are decoded to
human-readable ASCII.</p>
<p>For more details, see the Sphero API documentation.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with diagnostic data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.runL1Diags = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.runL1Diags, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Perform Level 2 Diagnostics command is a developer-level command to
help diagnose aberrant behaviour in Sphero.</p>
</div>
<div class="body">
<p>It's much less informative than the Level 1 command, but is in binary
format and easier to parse.</p>
<p>For more details, see the Sphero API documentation.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered with diagnostic data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.runL2Diags = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.runL2Diags, <span class="hljs-literal">null</span>, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Clear Counters command is a developer-only command to clear the various
system counters created by the L2 diagnostics.</p>
</div>
<div class="body">
<p>It is denied when the Sphero is in Normal mode.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.clearCounters = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
    command(commands.clearCounters, <span class="hljs-literal">null</span>, callback);
  };

  device._coreTimeCmd = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cmd, time, callback</span>) </span>{
    <span class="hljs-keyword">var</span> data = utils.intToHexArray(time, <span class="hljs-number">4</span>);
    command(cmd, data, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Assign Time command sets a specific value to Sphero's internal 32-bit
relative time counter.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">time</span>
<span class="dox_type">Number</span>
<span>the new value to set
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.assignTime = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">time, callback</span>) </span>{
    device._coreTimeCmd(commands.assignTime, time, callback);
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Poll Packet Times command helps users profile the transmission and
processing latencies in Sphero.</p>
</div>
<div class="body">
<p>For more details, see the Sphero API documentation.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">time</span>
<span class="dox_type">Number</span>
<span>a timestamp to use for profiling
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">callback</span>
<span class="dox_type">Function</span>
<span>function to be triggered when done writing
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  device.pollPacketTimes = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">time, callback</span>) </span>{
    device._coreTimeCmd(commands.pollTimes, time, callback);
  };
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
