<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/cylon-api-http/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#cylon.js-api-plugin-for-http">Cylon.js API plugin for HTTP</a>
      </div>

      <div class="heading h2">
        <a href="#how-to-install">How To Install</a>
      </div>

      <div class="heading h2">
        <a href="#how-to-use">How To Use</a>
      </div>

      <div class="heading h2">
        <a href="#how-to-connect">How To Connect</a>
      </div>

      <div class="heading h2">
        <a href="#routes">Routes</a>
      </div>

      <div class="heading h2">
        <a href="#robeaux">Robeaux</a>
      </div>

      <div class="heading h2">
        <a href="#configuration">Configuration</a>
      </div>

      <div class="heading h2">
        <a href="#documentation">Documentation</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

      <div class="heading h2">
        <a href="#release-history">Release History</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="cylon.js-api-plugin-for-http">
  <h1>
    <a href="#cylon.js-api-plugin-for-http" name="cylon.js-api-plugin-for-http" class="pilcrow"></a>
Cylon.js API plugin for HTTP
  </h1>
</div>
<p>Cylon.js (http://cylonjs.com) is a JavaScript framework for robotics, physical computing, and the Internet of Things (IoT).</p>
<p>API plugins are separate from the Cylon.js main module, to allow for greater modularization of Cylon robots.</p>
<p>This repository contains the Cylon API plugin for HTTP.</p>
<p>For more information about Cylon, check out the repo at https://github.com/hybridgroup/cylon</p>
<p><a href="https://travis-ci.org/hybridgroup/cylon-api-socketio"><img src="https://travis-ci.org/hybridgroup/cylon-api-socketio.svg" alt="Build Status"></a>
<a href="https://codeclimate.com/github/hybridgroup/cylon-api-socketio"><img src="https://codeclimate.com/github/hybridgroup/cylon-api-socketio/badges/gpa.svg" alt="Code Climate"></a>
<a href="https://codeclimate.com/github/hybridgroup/cylon-api-socketio"><img src="https://codeclimate.com/github/hybridgroup/cylon-api-socketio/badges/coverage.svg" alt="Test Coverage"></a></p>
<div class="pilwrap" id="how-to-install">
  <h2>
    <a href="#how-to-install" name="how-to-install" class="pilcrow"></a>
How To Install
  </h2>
</div>
<pre><code>$ npm install cylon cylon-api-http
</code></pre>
<div class="pilwrap" id="how-to-use">
  <h2>
    <a href="#how-to-use" name="how-to-use" class="pilcrow"></a>
How To Use
  </h2>
</div>
<p>With both of these modules installed, you can make your robots accessible over HTTP:</p>
<pre><code class="javascript"><span class="hljs-meta">"use strict"</span>;

<span class="hljs-keyword">var</span> Cylon = <span class="hljs-built_in">require</span>(<span class="hljs-string">"cylon"</span>);

Cylon.api(<span class="hljs-string">"http"</span>, {
  <span class="hljs-attr">ssl</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// serve unsecured, over HTTP</span>

  <span class="hljs-comment">// optional configuration here.</span>
  <span class="hljs-comment">// for details see 'Configuration' section.</span>
});

Cylon.robot({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Maria"</span>,

  <span class="hljs-attr">connections</span>: {
    <span class="hljs-attr">arduino</span>: { <span class="hljs-attr">adaptor</span>: <span class="hljs-string">'firmata'</span>, <span class="hljs-attr">port</span>: <span class="hljs-string">'/dev/ttyACM0'</span> }
  },

  <span class="hljs-attr">devices</span>: {
    <span class="hljs-attr">led</span>: { <span class="hljs-attr">driver</span>: <span class="hljs-string">'led'</span>, <span class="hljs-attr">pin</span>: <span class="hljs-number">13</span> }
  },

  <span class="hljs-attr">work</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// we'll interact with this robot through the API</span>
  }
}).start();
</code></pre>
<div class="pilwrap" id="how-to-connect">
  <h2>
    <a href="#how-to-connect" name="how-to-connect" class="pilcrow"></a>
How To Connect
  </h2>
</div>
<p>Once you've got a Cylon instance with the API configured and running, you can use cURL to test it out:</p>
<pre><code>  $ curl http://127.0.0.1:4000/api/robots/Maria
  { &quot;robot&quot;: { &quot;name&quot;: &quot;Maria&quot; /* ... */ } }
</code></pre>
<div class="pilwrap" id="routes">
  <h2>
    <a href="#routes" name="routes" class="pilcrow"></a>
Routes
  </h2>
</div>
<p>This plugin follows the <a href="https://github.com/hybridgroup/cppp-io">CPPP-IO</a> specification.</p>
<p>To get started, you can visit the <code>/api</code> route in your browser to get an overview of the Cylon Master Control Program (MCP).
This provides a high level overview of your program:</p>
<pre><code>  $ curl http://127.0.0.1:4000/api | python -m json.tool
  {
      &quot;MCP&quot;: {
          &quot;commands&quot;: [ ],
          &quot;events&quot;: [ ],
          &quot;robots&quot;: [
              {
                  &quot;name&quot;: &quot;Maria&quot;,
                  &quot;connections&quot;: [
                      {
                          &quot;name&quot;: &quot;arduino&quot;,
                          &quot;adaptor&quot;: &quot;firmata&quot;,
                          &quot;details&quot;: { &quot;port&quot;: &quot;/dev/ttyACM0&quot; }
                      }
                  ],
                  &quot;devices&quot;: [
                      {
                          &quot;name&quot;: &quot;led&quot;,
                          &quot;commands&quot;: [ &quot;toggle&quot; ],
                          &quot;connection&quot;: &quot;arduino&quot;,
                          &quot;details&quot;: { &quot;pin&quot;: &quot;13&quot; },
                          &quot;driver&quot;: &quot;LED&quot;
                      }
                  ],
                  &quot;commands&quot;: [ ],
                  &quot;events&quot;: [ ]
              }
          ]
      }
  }
</code></pre>
<p>For details on other available routes in the API and expected responses, please see the [specification document][spec].</p>
<div class="pilwrap" id="robeaux">
  <h2>
    <a href="#robeaux" name="robeaux" class="pilcrow"></a>
Robeaux
  </h2>
</div>
<p>This plugin includes a default front-end in <a href="https://github.com/hybridgroup/robeaux">Robeaux</a>.</p>
<p>Robeaux is a simple tool to use against the HTTP API, and explore your robots visually, while also able to issue commands to robots and listen for events.</p>
<div class="pilwrap" id="configuration">
  <h2>
    <a href="#configuration" name="configuration" class="pilcrow"></a>
Configuration
  </h2>
</div>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>host</code></td>
<td>What HTTP host to serve from. Defaults to <code>127.0.0.1</code>.</td>
</tr>
<tr>
<td><code>port</code></td>
<td>What HTTP port to serve on. Defaults to <code>3000</code>.</td>
</tr>
<tr>
<td><code>auth</code></td>
<td>What authorization scheme to use. e.g. <code>{ type: &quot;basic&quot;, user: &quot;username&quot;, pass: &quot;password&quot;}</code>. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>CORS</code></td>
<td>Cross-Origin Resource Sharing option (HTTP Header: &quot;Access-Control-Allow-Origin&quot;). Defaults to &quot;*&quot;.</td>
</tr>
<tr>
<td><code>serveDir</code></td>
<td>Directory to serve as static assets. Defaults to the included <a href="https://github.com/hybridgroup/robeaux">Robeaux</a> installation.</td>
</tr>
<tr>
<td><code>ssl</code></td>
<td>SSL <code>key</code> and <code>cert</code> options, wrapped as an object. Set to <code>false</code> for an unsecured API. Defaults to included self-signed certs.</td>
</tr>
</tbody>
</table>
<div class="pilwrap" id="documentation">
  <h2>
    <a href="#documentation" name="documentation" class="pilcrow"></a>
Documentation
  </h2>
</div>
<p>We're busy adding documentation to <a href="http://cylonjs.com">cylonjs.com</a>. Please check there as we continue to work on Cylon.js.</p>
<p>Thank you!</p>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<p>For our contribution guidelines, please go to <a href="https://github.com/hybridgroup/cylon/blob/master/CONTRIBUTING.md">https://github.com/hybridgroup/cylon/blob/master/CONTRIBUTING.md</a>.</p>
<div class="pilwrap" id="release-history">
  <h2>
    <a href="#release-history" name="release-history" class="pilcrow"></a>
Release History
  </h2>
</div>
<p>For the release history, please go to <a href="https://github.com/hybridgroup/cylon-api-http/blob/master/RELEASES.md">https://github.com/hybridgroup/cylon-api-http/blob/master/RELEASES.md</a>.</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>Copyright (c) 2014-2016 The Hybrid Group. Licensed under the Apache 2.0 license.</p>
</div>
  </div>
</body>
</html>
